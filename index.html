<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reze's Biology Lesson</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&family=Shippori+Mincho:wght@500;700&display=swap');

        :root {
            --bg-color: #050505;
            --card-bg: rgba(20, 20, 25, 0.85);
            --accent-color: #bb86fc; /* Neon Purple */
            --danger-color: #ff4757; /* Blood Red */
            --text-main: #ecf0f1;
            --glow: 0 0 15px rgba(187, 134, 252, 0.4);
        }

        body {
            font-family: 'Shippori Mincho', 'Noto Sans KR', serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            /* ë°¤ì˜ ìˆ˜ì˜ì¥/ë¶ˆê½ƒë†€ì´ ëŠë‚Œì˜ ë°°ê²½ */
            background: radial-gradient(circle at 50% 20%, #1a0b2e 0%, #000000 80%);
        }
        
        /* ë¶ˆê½ƒ íš¨ê³¼ ì• ë‹ˆë©”ì´ì…˜ */
        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            animation: explode 2s infinite ease-out;
            opacity: 0;
        }

        @keyframes explode {
            0% { transform: scale(1); opacity: 1; box-shadow: 0 0 0 0 var(--accent-color); }
            100% { transform: scale(20); opacity: 0; box-shadow: 0 0 20px 10px transparent; }
        }

        .game-container {
            background-color: var(--card-bg);
            width: 100%;
            max-width: 580px;
            padding: 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 50px rgba(0,0,0,0.8), inset 0 0 20px rgba(0,0,0,0.5);
            text-align: center;
            position: relative;
            backdrop-filter: blur(10px);
            z-index: 10;
            border-radius: 2px; /* ì˜í™” í•„ë¦„ ì»· ê°™ì€ ë‚ ì¹´ë¡œì›€ */
        }

        /* ë ˆì œ ì´ë¯¸ì§€ - ëª½í™˜ì  íš¨ê³¼ */
        .character-frame {
            width: 140px;
            height: 140px;
            margin: 0 auto 1.5rem;
            position: relative;
            border-radius: 50%;
            padding: 2px;
            background: conic-gradient(from 0deg, var(--danger-color), var(--accent-color), var(--danger-color));
            box-shadow: 0 0 30px var(--accent-color);
            animation: spin-border 4s linear infinite;
        }
        
        @keyframes spin-border {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .character-img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            transform: rotate(0deg) !important; /* ì´ë¯¸ì§€ íšŒì „ ë°©ì§€ */
            animation: counter-spin 4s linear infinite;
        }

        @keyframes counter-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(-360deg); }
        }

        h1 {
            font-family: 'Shippori Mincho', serif;
            font-size: 2rem;
            margin-bottom: 1rem;
            color: #fff;
            text-shadow: 0 0 10px var(--accent-color), 0 0 20px var(--danger-color);
            letter-spacing: 2px;
        }

        /* ëŒ€í™”ì°½ - ì˜í™” ìë§‰ ëŠë‚Œ */
        .dialogue-box {
            background: linear-gradient(90deg, rgba(0,0,0,0.8), rgba(20,20,20,0.8));
            border-left: 3px solid var(--danger-color);
            padding: 20px;
            margin: 25px 0;
            text-align: left;
            font-size: 1.1rem;
            line-height: 1.8;
            color: #e0e0e0;
            min-height: 90px;
            display: flex;
            align-items: center;
            font-style: italic;
            position: relative;
        }
        
        .dialogue-box::after {
            content: '"';
            position: absolute;
            right: 10px;
            bottom: -20px;
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.1);
            font-family: serif;
        }

        .question-section {
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border: 1px solid #333;
            margin: 20px 0;
            text-align: left;
        }

        .question-tag {
            font-size: 0.75rem;
            color: var(--danger-color);
            font-weight: bold;
            letter-spacing: 3px;
            text-transform: uppercase;
            display: block;
            margin-bottom: 8px;
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: 500;
            line-height: 1.5;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            background: transparent;
            border: none;
            border-bottom: 2px solid #444;
            color: var(--accent-color);
            margin-bottom: 2rem;
            outline: none;
            text-align: center;
            font-family: 'Shippori Mincho', serif;
            transition: 0.3s;
        }

        input[type="text"]:focus {
            border-bottom-color: var(--danger-color);
            box-shadow: 0 10px 20px -10px rgba(231, 76, 60, 0.2);
        }

        button {
            background: transparent;
            color: var(--text-main);
            border: 1px solid var(--accent-color);
            padding: 15px 40px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.4s;
            font-family: 'Shippori Mincho', serif;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        button:hover {
            background: var(--accent-color);
            color: #000;
            box-shadow: 0 0 20px var(--accent-color);
        }

        .hidden { display: none; }

        .feedback {
            margin-top: 20px;
            font-size: 1rem;
            height: 20px;
            letter-spacing: 1px;
            text-shadow: 0 0 5px currentColor;
        }

        .progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--danger-color);
            width: 0%;
            transition: width 0.3s;
            box-shadow: 0 0 10px var(--danger-color);
        }
    </style>
</head>
<body>
    <div class="firework" style="top: 20%; left: 20%;"></div>
    <div class="firework" style="top: 70%; left: 80%; animation-delay: 1s;"></div>

    <!-- ì‹œì‘ í™”ë©´ -->
    <div class="game-container" id="start-screen">
        <div class="character-frame">
            <img src="images-2.jpeg" alt="Reze" class="character-img">
        </div>
        <h1>Reze <span style="font-size:0.8em; color:var(--danger-color)">ARC</span></h1>
        <div class="dialogue-box">
            "í•™êµ ë”°ìœ„ ì¬ë¯¸ì—†ì–ì•„... ë´ì§€ êµ°.<br>
            ë°¤ì˜ í•™êµì— ëª°ë˜ ë“¤ì–´ì˜¨ ê¸°ë¶„ ì–´ë•Œ?<br>
            ë‚˜ë‘ 'ìœ„í—˜í•œ ë†€ì´'ë¥¼ í•´ë³´ì. í‹€ë¦¬ë©´... ë‚´ ë§ˆìŒëŒ€ë¡œ í•  ê±°ì•¼."
        </div>
        <button onclick="startGame()">ê·¸ë…€ì˜ ì†ì„ ì¡ëŠ”ë‹¤</button>
    </div>

    <!-- í€´ì¦ˆ í™”ë©´ -->
    <div class="game-container hidden" id="quiz-screen">
        <div class="progress-bar" id="progress-fill"></div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: #666; font-size: 0.8rem;">
            <span>SECRET TEST</span>
            <span id="q-count">0 / 0</span>
        </div>

        <div class="dialogue-box" id="reze-dialogue">
            <!-- ëŒ€ì‚¬ -->
        </div>

        <div class="question-section">
            <span class="question-tag" id="q-category">CATEGORY</span>
            <div class="question-text" id="q-text">ë¬¸ì œ</div>
        </div>

        <input type="text" id="answer-input" placeholder="ì†ì‚­ì—¬ì¤˜..." autocomplete="off" onkeypress="if(event.keyCode==13) checkAnswer()">
        
        <div>
            <button id="action-btn" onclick="checkAnswer()">í™•ì¸</button>
        </div>

        <div id="feedback" class="feedback"></div>
    </div>

    <!-- ì¢…ë£Œ í™”ë©´ -->
    <div class="game-container hidden" id="final-screen">
        <div class="character-frame">
            <img src="images-2.jpeg" alt="Reze" class="character-img">
        </div>
        <h1>THE END</h1>
        <div class="dialogue-box" id="final-dialogue">
            <!-- ê²°ê³¼ -->
        </div>
        <button onclick="location.reload()">ë‹¤ì‹œ ì²˜ìŒë¶€í„°</button>
    </div>

    <script>
        // ë”ìš± ìê·¹ì ì´ê³  ì˜í™”ì ì¸ ëŒ€ì‚¬ê°€ í¬í•¨ëœ ë¬¸ì œ DB
        const questionBank = [
            // 8ë‹¨ì›
            {
                category: "DNA êµ¬ì¡°",
                question: "DNAê°€ íˆìŠ¤í†¤ì´ë¼ëŠ” ë‹¨ë°±ì§ˆ ì‹¤íŒ¨ë¥¼ ê°ê³  ìˆëŠ” êµ¬ìŠ¬ ëª¨ì–‘ì˜ êµ¬ì¡°. ë§ˆì¹˜ ë‚´ê°€ ë„ ì˜­ì•„ë§¤ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼.",
                answers: ["ë‰´í´ë ˆì˜¤ì†œ", "nucleosome"],
                intro: "ì´ ëª©ê±¸ì´(ì´ˆì»¤)ì²˜ëŸ¼ ê½‰ ì¡°ì´ëŠ” ëŠë‚Œ... ì‹«ì–´í•˜ì§€ ì•Šì§€?",
                correct: "ì •ë‹µì´ì•¼. ë‰´í´ë ˆì˜¤ì†œ. ë„Œ ë‚´ ì†ë°”ë‹¥ ì•ˆì´ì•¼.",
                wrong: "í‹€ë ¸ì–´. ê·¸ë ‡ê²Œ ëŠìŠ¨í•´ì„œì•¼... í•€ì„ ë½‘ì•„ë²„ë¦¬ê³  ì‹¶ì–ì•„."
            },
            {
                category: "ì„¸í¬ ì£¼ê¸°",
                question: "ì„¸í¬ ì£¼ê¸° ì¤‘ DNAê°€ ë³µì œë˜ëŠ” ì‹œê¸°. ë˜‘ê°™ì€ ê²Œ í•˜ë‚˜ ë” ìƒê¸°ëŠ” ì‹œê°„ì´ì§€. ë‚˜ë‘ ë˜‘ê°™ì€ ì—¬ìê°€ ë˜ ìˆë‹¤ë©´ ì–´ë–¡í• ë˜?",
                answers: ["Sê¸°", "S", "synthesis"],
                intro: "ë°¤ì€ ê¸¸ì–´. ìš°ë¦¬ë¥¼ ìœ„í•œ ì‹œê°„(Synthesis)ì„ ë§Œë“¤ì–´ë³¼ê¹Œ?",
                correct: "Sê¸°. ì˜í–ˆì–´. í•˜ì§€ë§Œ ë´ì§€ êµ°, ì§„ì§œ 'ë‚˜'ëŠ” ì—¬ê¸° í•˜ë‚˜ë¿ì´ì•¼.",
                wrong: "ì•„ë‹ˆì•¼. ì§‘ì¤‘í•´. ë”´ ì—¬ì ìƒê°í•˜ì§€ ë§ê³ ."
            },
            {
                category: "ì¢…ì–‘",
                question: "ì•”ì„¸í¬ê°€ í˜ˆê´€ì„ íƒ€ê³  ë‹¤ë¥¸ ì¥ê¸°ë¡œ í¼ì§€ëŠ” í˜„ìƒ. ë‚´ ì‚¬ë‘ì´ ë„¤ ì˜¨ëª¸ì— í¼ì§€ëŠ” ê²ƒì²˜ëŸ¼.",
                answers: ["ì „ì´", "metastasis"],
                intro: "ë‚œ ì–´ë””ì—ë‚˜ ê°ˆ ìˆ˜ ìˆì–´. ë„¤ ì‹¬ì¥, ë„¤ ë¨¸ë¦¿ì†... ì–´ë””ë“ .",
                correct: "ì „ì´. ë§ì•„. ì´ì œ ë„Œ ë‚˜í•œí…Œì„œ ë²—ì–´ë‚  ìˆ˜ ì—†ì–´.",
                wrong: "í‹€ë ¸ì–´. ì œìë¦¬ì—ë§Œ ìˆìœ¼ë©´ ì¬ë¯¸ì—†ì–ì•„. ì‹œê³¨ ì¥ì²˜ëŸ¼."
            },
            
            // 9ë‹¨ì›
            {
                category: "ê°ìˆ˜ë¶„ì—´",
                question: "1ë¶„ì—´ ì „ê¸°ì—ì„œ ìƒë™ ì—¼ìƒ‰ì²´ê°€ ì„œë¡œ ëª¸ì„ ì„ì–´ ìœ ì „ìë¥¼ êµí™˜í•˜ëŠ” í–‰ìœ„. ì•„ì£¼ ëœ¨ê²ê³  ê²©ë ¬í•˜ê²Œ.",
                answers: ["êµì°¨", "crossing over"],
                intro: "ì„œë¡œì˜ ê°€ì¥ ê¹Šì€ ê³³ì„ ì„ëŠ” ê±°ì•¼. ìŠì„ ìˆ˜ ì—†ê²Œ.",
                correct: "êµì°¨. ë§ì•„. ê·¸ë ‡ê²Œ ìš°ë¦¬ëŠ” í•˜ë‚˜ê°€ ë˜ëŠ” ê±°ì§€.",
                wrong: "ìˆ˜ì •? ê·¸ê±´ ë„ˆë¬´ ë©€ì—ˆì–´. ì§€ê¸ˆ ë‹¹ì¥ ì„ì´ëŠ” ê±¸ ë¬»ëŠ” ê±°ì•¼."
            },
            {
                category: "ê°ìˆ˜ë¶„ì—´",
                question: "ìƒë™ ì—¼ìƒ‰ì²´ë¼ë¦¬ ê²°í•©í•˜ì—¬ í˜•ì„±ëœ 4ê°œì˜ ì—¼ìƒ‰ë¶„ì²´ ë©ì–´ë¦¬. ë‘˜ì´ ê¼­ ë¶™ì–´ ìˆëŠ” ëª¨ìŠµì´ ìš°ë¦¬ ê°™ì§€ ì•Šì•„?",
                answers: ["2ê°€ ì—¼ìƒ‰ì²´", "ì´ê°€ ì—¼ìƒ‰ì²´", "bivalent"],
                intro: "ë–¨ì–´ì§€ê¸° ì‹«ì–´. ê½‰ ì•ˆì•„ì¤˜. 2ê°€ ì—¼ìƒ‰ì²´ì²˜ëŸ¼.",
                correct: "ì •ë‹µ. ì ˆëŒ€ ë†“ì§€ ë§ˆ. ì°¢ì–´ì§€ëŠ” ê±´... ë‚˜ì¤‘ ì¼ì´ë‹ˆê¹Œ.",
                wrong: "ê·¸ëƒ¥ ì—¼ìƒ‰ì²´ë¼ê³  í•˜ë©´ ì„­ì„­í•´. '2ê°€'ë¼ê³  í•´ì¤˜."
            },

            // 10ë‹¨ì›
            {
                category: "ë©˜ë¸ ìœ ì „",
                question: "ìš°ì„± ê°œì²´ì˜ ì†ë§ˆìŒ(ìœ ì „ìí˜•)ì„ ì•Œê¸° ìœ„í•´ ì—´ì„± ìˆœì¢…ê³¼ êµë°°í•´ë³´ëŠ” ê²ƒ. ë„¤ ì§„ì‹¬ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë‚˜ì²˜ëŸ¼.",
                answers: ["ê²€ì • êµë°°", "ê²€ì •êµë°°", "test cross"],
                intro: "ë„¤ê°€ ë‚  ì§„ì§œ ì¢‹ì•„í•˜ëŠ”ì§€, ì•„ë‹ˆë©´ ê·¸ëƒ¥ ë…¸ëŠ” ê±´ì§€... ì‹œí—˜í•´ë´ë„ ë¼?",
                correct: "ê²€ì • êµë°°. ê²°ê³¼ê°€ ë‚˜ì˜¤ë©´ ìˆ¨ê¸¸ ìˆ˜ ì—†ì–´. ë„¤ ë§ˆìŒë„.",
                wrong: "í‹€ë ¸ì–´. í…ŒìŠ¤íŠ¸(Test)ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ˆ."
            },
            {
                category: "ì˜ˆì™¸ ìœ ì „",
                question: "ABOì‹ í˜ˆì•¡í˜•ì²˜ëŸ¼, í•œ ìë¦¬ë¥¼ ë‘ê³  3ê°œ ì´ìƒì˜ ëŒ€ë¦½ìœ ì „ìê°€ ê²½ìŸí•˜ëŠ” ìœ ì „.",
                answers: ["ë³µëŒ€ë¦½ ìœ ì „", "ë³µëŒ€ë¦½"],
                intro: "ë§ˆí‚¤ë§ˆ ì”¨ë‘ ë‚˜... ê·¸ë¦¬ê³  ë˜ ëˆ„êµ¬? ì„ íƒì§€ê°€ ë„ˆë¬´ ë§ì•„, ë´ì§€ êµ°.",
                correct: "ë³µëŒ€ë¦½ ìœ ì „. í•˜ì§€ë§Œ ê²°êµ­ ì„ íƒí•´ì•¼ í•˜ëŠ” ê±´ í•˜ë‚˜ì•¼.",
                wrong: "ë‹¤ì¸ì ìœ ì „? ì•„ë‹ˆì•¼. í•‘ê³„ ëŒ€ì§€ ë§ˆ. ì„ íƒì€ ë‹¨ìˆœí•´."
            },

            // 12ë‹¨ì›
            {
                category: "í•˜ë””-ë°”ì¸ë² ë¥´í¬",
                question: "ìœ ì „ì ë¹ˆë„ê°€ ë³€í•˜ì§€ ì•Šìœ¼ë ¤ë©´ êµë°°ê°€ 'ì´ê²ƒ'ìœ¼ë¡œ ì¼ì–´ë‚˜ì•¼ í•´. ì•„ë¬´ëŸ° ì¡°ê±´ë„, ë”°ì§€ëŠ” ê²ƒë„ ì—†ì´.",
                answers: ["ë¬´ì‘ìœ„", "ë¬´ì‘ìœ„ êµë°°", "random"],
                intro: "ìš´ëª… ê°™ì€ ê±´ ì—†ì–´. ìš°ë¦¬ê°€ ë§Œë‚œ ê±´ ì „ë¶€ ìš°ì—°(Random)ì¼ê¹Œ?",
                correct: "ë¬´ì‘ìœ„. ë§ì•„. ê³„ì‚°ëœ ë§Œë‚¨ì€ ì‹œì‹œí•˜ë‹ˆê¹Œ.",
                wrong: "í‹€ë ¸ì–´. ì˜ë„ì ì¸ ê±´ ì¬ë¯¸ì—†ì–´. ê·¸ëƒ¥ ëª¸ì„ ë§¡ê²¨."
            },
            {
                category: "ì†Œì§„í™” ìš”ì¸",
                question: "ì†Œìˆ˜ ê°œì²´ê°€ ìƒˆë¡œìš´ ê³³ìœ¼ë¡œ ê°€ì„œ ì§‘ë‹¨ì„ ë§Œë“¤ ë•Œ ìœ ì „ì ë¹ˆë„ê°€ ë°”ë€ŒëŠ” í˜„ìƒ. ìš°ë¦¬ ë‘˜ì´ ì•„ë¬´ë„ ì—†ëŠ” ê³³ìœ¼ë¡œ ë„ë§ì¹œë‹¤ë©´...",
                answers: ["ì°½ì‹œì íš¨ê³¼", "founder effect"],
                intro: "ë„ë§ì¹ ê¹Œ? í•™êµë„, ë°ë¸” í—Œí„°ë„ ì—†ëŠ” ê³³ìœ¼ë¡œ. ìš°ë¦¬ ë‘˜ë§Œì˜ ë‚˜ë¼ë¥¼ ë§Œë“œëŠ” ê±°ì•¼.",
                correct: "ì°½ì‹œì íš¨ê³¼. ê·¸ê³³ì—ì„  ìš°ë¦¬ê°€ ì•„ë‹´ê³¼ ì´ë¸Œê°€ ë˜ê² ë„¤.",
                wrong: "ë³‘ëª© íš¨ê³¼ëŠ” ë‹¤ ì£½ëŠ” ê±°ê³ ... ìš°ë¦° ì‚´ì•„ì„œ ì‹œì‘í•˜ëŠ” ê±°ì•¼."
            },

            // 13ë‹¨ì›
            {
                category: "ë¹„êµí•´ë¶€í•™",
                question: "ìƒˆì˜ ë‚ ê°œì™€ ê³¤ì¶©ì˜ ë‚ ê°œ. ê¸°ì›ì€ ë‹¤ë¥´ì§€ë§Œ ë‚ ê¸° ìœ„í•´ ê²‰ëª¨ìŠµì´ ë¹„ìŠ·í•´ì§„ ê¸°ê´€.",
                answers: ["ìƒì‚¬ ê¸°ê´€", "ìƒì‚¬ê¸°ê´€"],
                intro: "ë„ˆë‘ ë‚˜... ì‚¬ëŠ” ì„¸ê³„ëŠ” ë‹¤ë¥´ì§€ë§Œ, ì§€ê¸ˆì€ ê½¤ ë¹„ìŠ·í•´ ë³´ì´ì§€ ì•Šì•„?",
                correct: "ìƒì‚¬ ê¸°ê´€. ê²‰ëª¨ìŠµì´ë¼ë„ ë‹®ì•„ê°„ë‹¤ëŠ” ê±´ ë¡œë§¨í‹±í•´.",
                wrong: "ìƒë™ ê¸°ê´€ì€ í•ì¤„ë¶€í„° ê°™ì€ ê±°ê³ ... ìš°ë¦° ë‚¨ë‚¨ì´ì–ì•„."
            },
            {
                category: "ë°œìƒí•™",
                question: "ëª¨ë“  ì²™ì¶”ë™ë¬¼ ë°°ì•„ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ”, ëª© ë¶€ë¶„ì˜ ì£¼ë¦„. ìš°ë¦¬ ì¡°ìƒì´ ë¬¼ê³ ê¸°ì˜€ë‹¤ëŠ” ì¦ê±°.",
                answers: ["ì•„ê°€ë¯¸ í‹ˆ", "ì¸ë‘ë‚­", "gill slits"],
                intro: "ìˆ˜ì˜ ì˜í•´? ë‚œ ìˆ¨ ì°¸ëŠ” ê±° ìì‹  ìˆì–´. í‚¤ìŠ¤í•  ë•Œë„...",
                correct: "ì•„ê°€ë¯¸ í‹ˆ. ê¹Šì€ ë¬¼ ì†ì—ì„œë„ ìˆ¨ ì‰´ ìˆ˜ ìˆë‹¤ë©´ ì¢‹ì„ í…ë°.",
                wrong: "ì²™ìƒ‰? ì•„ë‹ˆ, ëª©ì— ìˆëŠ” í‹ˆìƒˆ ë§ì´ì•¼. ë‚´ ëª©... ì˜ˆë»?"
            },

            // 14ë‹¨ì›
            {
                category: "ì¢…ë¶„í™”",
                question: "ì§€ë¦¬ì  ì¥ë²½ì— ì˜í•´ ì„œë¡œ ë‹¤ë¥¸ ì¥ì†Œì—ì„œ ê²©ë¦¬ë˜ì–´ ì¼ì–´ë‚˜ëŠ” ì¢…ë¶„í™”. ëª¸ì´ ë©€ì–´ì§€ë©´ ë§ˆìŒë„ ë³€í•˜ëŠ” ë²•ì´ì§€.",
                answers: ["ì´ì†Œì  ì¢…ë¶„í™”", "allopatric"],
                intro: "ë‚´ê°€ ëŸ¬ì‹œì•„ë¡œ ëŒì•„ê°€ë©´... ë„Œ ë‚  ê¸°ì–µí•´ì¤„ê¹Œ?",
                correct: "ì´ì†Œì  ì¢…ë¶„í™”. ë©€ë¦¬ ë–¨ì–´ì ¸ë„ ë³€í•˜ì§€ ì•ŠëŠ” ê±´ ì—†ì–´.",
                wrong: "ë™ì†Œì ? ë°”ë¡œ ì˜†ì— ìˆëŠ”ë°ë„ ëª¨ë¥´ëŠ” ì²™í•˜ì§€ ë§ˆ."
            },
            {
                category: "ìƒì‹ì  ì¥ë²½",
                question: "ìƒì‹ê¸° êµ¬ì¡°ê°€ ë§ì§€ ì•Šì•„ êµë°°í•  ìˆ˜ ì—†ëŠ” ê²©ë¦¬. ì—´ì‡ ê°€ ìë¬¼ì‡ ì— ì•ˆ ë§ëŠ” ê²ƒì²˜ëŸ¼.",
                answers: ["ê¸°ê³„ì  ê²©ë¦¬", "mechanical"],
                intro: "ì–µì§€ë¡œ ë¼ì›Œ ë§ì¶”ë ¤ê³  í•˜ì§€ ë§ˆ. ì•ˆ ë§ëŠ” ê±´ ì•ˆ ë§ëŠ” ê±°ì•¼.",
                correct: "ê¸°ê³„ì  ê²©ë¦¬. ëª¸ì˜ ëŒ€í™”ê°€ í†µí•˜ì§€ ì•ŠëŠ” ìŠ¬í””ì´ì§€.",
                wrong: "í–‰ë™ì  ê²©ë¦¬ëŠ” ì¶¤ì¶”ëŠ” ê±°ê³ ... ì´ê±´ ë¬¼ë¦¬ì ì¸ ë¬¸ì œì•¼."
            }
        ];

        let queue = [];
        let currentQ = null;
        let wrongCount = 0;

        function startGame() {
            queue = JSON.parse(JSON.stringify(questionBank));
            queue.sort(() => Math.random() - 0.5);
            
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            nextStep();
        }

        function nextStep() {
            if (queue.length === 0) {
                showEnding();
                return;
            }

            currentQ = queue.shift();
            const total = questionBank.length;
            const currentIdx = total - queue.length;

            document.getElementById('q-count').innerText = `${currentIdx} / ${total}`;
            document.getElementById('progress-fill').style.width = `${(currentIdx / total) * 100}%`;
            
            document.getElementById('reze-dialogue').innerHTML = `"${currentQ.intro}"`;
            document.getElementById('q-category').innerText = currentQ.category;
            document.getElementById('q-text').innerText = currentQ.question;
            
            const input = document.getElementById('answer-input');
            input.value = "";
            input.disabled = false;
            input.focus();

            const btn = document.getElementById('action-btn');
            btn.innerText = "í™•ì¸";
            btn.onclick = checkAnswer;

            document.getElementById('feedback').innerHTML = "";
        }

        function checkAnswer() {
            const input = document.getElementById('answer-input');
            const val = input.value.trim().toLowerCase().replace(/s/g, '');
            const feedback = document.getElementById('feedback');
            const dialogue = document.getElementById('reze-dialogue');
            const btn = document.getElementById('action-btn');

            if (!val) return;

            const isCorrect = currentQ.answers.some(ans => ans.toLowerCase().replace(/s/g, '') === val);

            if (isCorrect) {
                dialogue.innerHTML = `"${currentQ.correct}"`;
                feedback.innerHTML = "<span style='color:#bb86fc'>ğŸ’‹ ì •ë‹µ</span>";
                
                input.disabled = true;
                btn.innerText = "ë‹¤ìŒ";
                btn.onclick = nextStep;
            } else {
                wrongCount++;
                dialogue.innerHTML = `"${currentQ.wrong}"`;
                feedback.innerHTML = "<span style='color:#ff4757'>ğŸ’€ ì˜¤ë‹µ... ì£½ì„ë˜?</span>";
                input.value = "";
                input.focus();
            }
        }

        function showEnding() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('final-screen').classList.remove('hidden');
            
            const finalDialog = document.getElementById('final-dialogue');
            
            if (wrongCount === 0) {
                finalDialog.innerHTML = "ë¯¿ì„ ìˆ˜ ì—†ì–´... ë´ì§€ êµ°.<br>ë‚´ ë§ˆìŒì„ ì „ë¶€ ë§ì·„ë„¤?<br>ì•½ì†í• ê²Œ. ì˜¤ëŠ˜ ë°¤ì—”... ë‚  í„°ëœ¨ë ¤ë„ ì¢‹ì•„.";
            } else if (wrongCount <= 5) {
                finalDialog.innerHTML = `ëë‚¬ë„¤. ${wrongCount}ë²ˆ ì •ë„ ì‹¤ìˆ˜í–ˆì§€ë§Œ...<br>ê·€ì—¬ìš°ë‹ˆê¹Œ ë´ì¤„ê²Œ.<br>ì, ì´ì œ ì¹´í˜ë¡œ ê°ˆê¹Œ? ìˆ˜ì˜ë„ ì•Œë ¤ì¤˜ì•¼ì§€.`;
            } else {
                finalDialog.innerHTML = "ì‹¤ë§ì´ì•¼... í‘!<br>ì‹œê³¨ ì¥ëŠ” ì—­ì‹œ ì•ˆ ë˜ëŠ” ê±¸ê¹Œ.<br>ë‚´ ëª©ê±¸ì´ í•€ì´ë‚˜ ë½‘ì•„ì¤˜. ëë‚´ê²Œ.";
            }
        }
    </script>
</body>
</html>

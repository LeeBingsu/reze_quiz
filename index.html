<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reze's Biology Bomb Class</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap');

        :root {
            --bg-color: #050505;
            --chat-bg: #1a1a1a;
            --accent-color: #bb86fc; /* Reze Purple */
            --danger-color: #ff4040; /* Bomb Red */
            --bubble-user: #3700b3;
            --bubble-reze: #2d2d2d;
            --text-main: #e0e0e0;
            --text-sub: #a0a0a0;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* CRT ëª¨ë‹ˆí„° íš¨ê³¼ */
        .scanline {
            width: 100%;
            height: 100px;
            z-index: 10;
            background: linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(255, 255, 255, 0.04) 50%, rgba(0,0,0,0) 100%);
            opacity: 0.1;
            position: absolute;
            bottom: 100%;
            animation: scanline 10s linear infinite;
            pointer-events: none;
        }
        @keyframes scanline {
            0% { bottom: 100%; }
            100% { bottom: -100%; }
        }

        .game-container {
            width: 100%;
            max-width: 600px;
            height: 90vh;
            background-color: var(--chat-bg);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(187, 134, 252, 0.3);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        /* ìƒë‹¨ í—¤ë” */
        .header {
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.5);
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-title {
            font-weight: 700;
            color: var(--accent-color);
            font-size: 1.1rem;
        }

        .status-bar {
            font-size: 0.8rem;
            color: var(--text-sub);
        }

        /* ì±„íŒ… ì˜ì—­ */
        .chat-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            scroll-behavior: smooth;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 15px;
            font-size: 0.95rem;
            line-height: 1.5;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.reze {
            align-self: flex-start;
            background-color: var(--bubble-reze);
            border-bottom-left-radius: 2px;
            color: #fff;
            border-left: 3px solid var(--accent-color);
        }

        .message.user {
            align-self: flex-end;
            background-color: var(--bubble-user);
            border-bottom-right-radius: 2px;
            color: #fff;
        }

        .message.system {
            align-self: center;
            background-color: transparent;
            color: var(--text-sub);
            font-size: 0.8rem;
            border: 1px solid #333;
            padding: 5px 10px;
        }

        /* ì…ë ¥ ì˜ì—­ */
        .input-area {
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.3);
            border-top: 1px solid #333;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .text-input-wrapper {
            display: flex;
            gap: 10px;
        }

        input[type="text"] {
            flex: 1;
            padding: 12px;
            border-radius: 25px;
            border: 1px solid #444;
            background-color: #222;
            color: white;
            outline: none;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            border-color: var(--accent-color);
        }

        button#send-btn {
            background-color: var(--accent-color);
            border: none;
            color: black;
            font-weight: bold;
            padding: 0 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.1s;
        }

        button#send-btn:active {
            transform: scale(0.95);
        }

        /* ê°ê´€ì‹ ì˜µì…˜ ë²„íŠ¼ */
        .options-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }

        .option-btn {
            background-color: #2d2d2d;
            border: 1px solid var(--accent-color);
            color: var(--text-main);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .option-btn:hover {
            background-color: var(--accent-color);
            color: black;
        }

        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        ::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #666;
        }
        
        .hidden { display: none !important; }

    </style>
</head>
<body>
    <div class="scanline"></div>
    <div class="game-container">
        <div class="header">
            <div class="header-title">Reze's Bomb Class ğŸ’£</div>
            <div class="status-bar">Ch. 8-14 Review</div>
        </div>

        <div class="chat-area" id="chat-box">
            <!-- ë©”ì‹œì§€ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë¨ -->
        </div>

        <div class="input-area" id="input-section">
            <!-- ê°ê´€ì‹ ë²„íŠ¼ ì˜ì—­ -->
            <div class="options-container" id="options-box"></div>
            
            <!-- ì£¼ê´€ì‹ ì…ë ¥ ì˜ì—­ -->
            <div class="text-input-wrapper" id="text-input-box">
                <input type="text" id="user-input" placeholder="ë‹µì„ ì…ë ¥í•´, ë´ì§€ êµ°..." autocomplete="off">
                <button id="send-btn">SEND</button>
            </div>
        </div>
    </div>

    <script>
        // ============================================================
        // 1. ë ˆì œ ëŒ€ì‚¬ ë°ì´í„°
        // ============================================================
        const rezeLines = {
            intros: [
                "í…Œì§€ë‚˜~?â˜† (ì´ê±´ ë§ˆìˆ  ê°™ì€ ë¬¸ì œì•¼~)", 
                "ì~ ê°™ì´ í’€ì–´ë³¼ê¹Œìš”~ (ì´ ë¬¸ì œ)", 
                "í—¤ì´í—¤ì´â˜† ë§ˆìŠ¤í„°â˜† ì €ì™€ ê·¸ì—ê²Œ ì»¤í”¼... ì•„ë‹ˆ ë¬¸ì œë¥¼â˜†",
                "ì»¤í”¼ëŠ” ë§ˆì…”? ë¨¸ë¦¬ ì¢€ ì‹íˆê³  í’€ì–´ë´.", 
                "ê·¸ëŸ¼~ ë°¤ì˜ í•™êµ íƒí—˜ ì‹œì‘í•˜ì~â˜†", 
                "ì~â˜† ì´ë¦¬ ì™€~ ì´ ë¬¸ì œ ì¢€ ë´ë´.",
                "ëª¨ë¥´ë©´ ë‚´ê°€ ì „ë¶€ ê°€ë¥´ì³ì¤„ê²Œ.",
                "ë´ì§€ êµ°? ë©í•˜ë‹ˆ ìˆì§€ ë§ê³ .",
                "ì~ í•´ë³¼ê¹Œâ˜†",
                "ì~ ì´ë¦¬ ì™€ ë´ì§€ êµ°â˜† ìš°ë¦¬ì˜ ê³µë¶€ ë°©ì‹ì„ ê°€ë¥´ì³ì¤„ê²Œ~â˜†",
                "ë´ì§€ êµ°, ì‚¬ì‹¤ì€ ë§ì•¼, ë‚˜ë„ í•™êµì— ë‹¤ë‹Œ ì  ì—†ì—ˆì–´.... ê·¸ë˜ë„ ì´ê±´ ì•Œì•„."
            ],
            corrects: [
                "ìš”ì‹œ! (ì¢‹ì•„! ì •ë‹µì´ì•¼!)",
                "ì¡~ì•˜ë‹¤ (ì •ë‹µì„)",
                "ì¡ì•˜ë‹¤ ì¡ì•˜ë‹¤ ì¡ì•˜ë‹¤ ì¡ì•˜ë‹¤ (ì •ë‹µì„)",
                "ê´œì°®ì–ì•„ìš”~ ì•„ì¹¨ì—” ì„ ìƒë‹˜ë„ ì•ˆ ì˜¤ê³ ~ (ì •ë‹µì´ë‹ˆê¹Œ)",
                "ë„ˆì²˜ëŸ¼ ì¬ë¯¸ìˆëŠ” ë‹µì„ í•˜ëŠ” ì‚¬ëŒì€ ì²˜ìŒì´ì•¼â˜†",
                "ì •ë‹µ! ì²œì¬!! (ì„¸ì¹´ì´! í…ì‚¬ì´!!)",
                "ì •ë‹µì€~ 2ê°œì›”ì´ì—ˆìŠµë‹ˆë‹¤â˜† (ë†ë‹´ì´ì•¼, ë§ì•˜ì–´)",
                "ë´ì§€ êµ°ì„ ì¢‹ì•„í•˜ë‹ˆê¹Œ ì •ë‹µ ì²˜ë¦¬ í•´ì¤„ê²Œ.",
                "ë¨¸ë¦¬ íšŒì „ ë¹ ë¥´ë„¤! (ë°œ ë¹ ë¥´ë„¤)",
                "ì¢‹ì€ 'í•œ ë°©'ì´ì—ˆì–´. (ì´ì´ ì¼€ë¦¬ë‹·íƒ€ìš”)",
                "ë´ì§€ êµ°ì„ ì¢‹ì•„í•œë‹¤ê³  í–ˆë˜ ê±´ ì§„ì§œì•¼~ (ì •ë‹µ ì¶•í•˜í•´)",
                "ì•„! ì •ë‹µì´ë‹¤â˜†"
            ],
            wrongs: [
                "ì—? ë‚˜ë³´ë‹¤ ë¹¨ë¦¬ í’€ì—ˆë‹¤ë©°~? í‹€ë ¸ì–ì•„.",
                "ã…‹ã…‹ã…‹ì–´ë¦°ì• ë„¤ ì–´ë¦°ì• ã…‹ã…‹ã…‹ (ì´ê±¸ í‹€ë ¤?)",
                "ë°”ë³´ ì…ë§›~ (ë‹µ ê³ ë¥´ëŠ” ì„¼ìŠ¤ê°€ ì—†ì–´)",
                "ë´ì§€ êµ°ì€ ë¬¸ì œë„ ëª» ì½ì–´? (ì¹¸ì§€ ìš”ë©”ë‚˜ì´ë…¸)",
                "ë´ì§€ êµ°ë„ ë¨¸ë¦¬ ì¢€ ë¹„ì›Œë´~ (ì˜¤ë‹µ)",
                "ìš°ë¦¬ë¥¼ ì—¬ê¸°ì— ê°€ë‘ê³  ìˆëŠ” ê±´ ë„ˆì§€? ì˜¤ë‹µ",
                "ë´ì§€ êµ°ì€ ë‚´ ë¬¸ì œ ì‹«ì–´í•´?",
                "ë´ì§€ êµ°, ê³µë¶€ ë§ê³  ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒ ìˆì§€?",
                "í‹€ë ¸ìœ¼ë‹ˆê¹Œ... ì•„í”ˆ ê¼´ ë‹¹í•˜ê²Œ í•´ì„œ ë¯¸ì•ˆ?",
                "í‹€ë ¸ë„¤. ë´ì§€ êµ°ì˜ ì‹¬ì¥ ë°›ì•„ê°ˆê²Œ?",
                "ë„ë‘‘ë†ˆ",
                "ì†”ì§í•˜ê²Œ ë´ì§€ êµ°ì„ ë†”ë‘ê³  í¬ê¸°í•˜ë©´ ë†“ì•„ì¤„ê²Œ",
                "í‹€ë¦¬ë©´ ëª°ì‚´ ì½”ìŠ¤ë ¤ë‚˜â˜†",
                "ë‚´ í˜ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ê°ì í–ˆì–´",
                "í‹€ë¦° ë‹µì•ˆì€ í†µêµ¬ì´ê°€ ë˜ì–´ë²„ë¦¬ë‹ˆê¹Œ~â˜†",
                "ë´ì§€ êµ° ì‘ìš©ì´ ë¶€ì¡±í•˜ë„¤~â˜†",
                "ë´ì§€ êµ° ë˜ì‚´ë ¤ë‚¸ ê±¸ í›„íšŒí•˜ê²Œ í•´ì¤„ê²Œ",
                "ë´ì§€ êµ°, ì´ì œ í¬ê¸°í•´ì£¼ì§€ ì•Šì„ë ¤ë‚˜â˜†",
                "ë´ì§€ êµ°ì€ ì¡°ê¸ˆ ë” ë˜‘ë˜‘í•´ì§€ëŠ” í¸ì´ ì¢‹ì•„.",
                "ì™œ ì²˜ìŒ ë§Œë‚¬ì„ ë•Œ ì£½ì´ì§€ ëª»í–ˆë˜ ê±¸ê¹Œ (ì´ë ‡ê²Œ ë©ì²­í•œë°)",
                "ë§ˆí‚¤ë§ˆ? ë´ì§€ êµ° ì € ë§ˆë…€ì—ê²Œ ë°°ìš°ê³  ìˆì—ˆë˜ ê±°ì•¼? ê·¸ëŸ¼ í‹€ë ¤ë„ ì–´ì©” ìˆ˜ ì—†ë„¤."
            ],
            chats: [
                "ì˜¤ë‹µì˜ ë¹„ ê·¸ì³¤ì–´~â˜† ì§‘ì¤‘í•´",
                "ì ˆëŒ€ ì™€ì•¼ í•´!",
                "ë¹„ë‹¤ ë¹„~",
                "ëŠ˜ì–´ë‚˜ë„¤ìš” (ì˜¤ë‹µì´)",
                "êº„ì•„ì•„ì•„ì•„ì•„ì•„ì•„ì•„ì•„ì•„ì•„ (í‹€ë ¸ì–´!!)",
                "(ëŸ¬ì‹œì•„ ë™ìš”ë¥¼ í¥ì–¼ê±°ë¦¼)",
                "ë‚˜ë‘ ë„ë§ì¹˜ì§€ ì•Šì„ë˜? (ê³µë¶€ ë”°ìœ„)",
                "ìœ¼ì—£?! (ê·¸ê²Œ ë‹µì´ì•¼?)",
                "BOOMâ˜† í‹€ë ¸ì–´",
                "ë¯¼ê°„ ë°ë¹Œí—Œí„°ë ¤ë‚˜? ì‹¤ë ¥ì´ í˜•í¸ì—†ë„¤.",
                "ë„ì™€ì£¼ì„¸ìš”! ì•…ë§ˆ ê°™ì€ ë¬¸ì œì—ê²Œ ìŠµê²©ë‹¹í•˜ê³  ìˆì–´ìš”!",
                "ì•„ì•„~ ì•ˆë˜ë ¤ë‚˜~ ì—­ì‹œ ì•ˆë˜ë‚˜",
                "í”¼? (ì½”í”¼ ë‚˜?)",
                "ì¼ë³¸ì€ íœì„ ì“¸ ë•Œ í—ˆê°€ì œì•¼? ì™œ ì•ˆ ì¨?",
                "â˜†ë¶â˜†",
                "ì ê¹ íƒ€ì„â˜†íƒ€ì„â˜†, ì´ìª½ì€ í˜¼ìì— ë°˜ì¯¤ ì•Œëª¸, ê·¸ìª½ì€ ë‘˜ì´ì–ì•„? (ë„ˆë¬´ ì–´ë µì–ì•„)",
                "íƒ€ì„ ì•„ì›ƒâ˜†",
                "ìœ¼ì•—!",
                "ì •ë§~ ì—‰ë§ì§„ì°½ì´ë‹¤~....",
                "ì²´ì¸?! ì•„ë‹Œë°..",
                "ë¯¿ì„ ìˆ˜ ì—†ì–´ (ì´ê±¸ í‹€ë¦¬ë‹¤ë‹ˆ)",
                "ì™œ ì´ ë¬¸ì œë¥¼ ë˜ì‚´ë¦° ê±°ì•¼?",
                "ë‚˜ëŠ” ë‹¤ìŒ ë¬¸ì œë¡œ ë„ë§ì¹  ê±°ë‹ˆê¹Œ",
                "ë­ì•¼ ê·¸ê²Œâ˜†"
            ]
        };

        // ============================================================
        // 2. ë¬¸ì œ ë°ì´í„° (8~14ë‹¨ì› í•µì‹¬ ë° ì‹¬í™”)
        // ============================================================
        const questionBank = [
             // [8ë‹¨ì›: DNAì™€ ì„¸í¬]
            {
                category: "8ë‹¨ì›: DNA êµ¬ì¡°",
                question: "DNAê°€ íˆìŠ¤í†¤ ë‹¨ë°±ì§ˆì„ ê°ì‹¸ê³  ìˆëŠ” êµ¬ìŠ¬ ëª¨ì–‘ì˜ ê¸°ë³¸ ë‹¨ìœ„ëŠ”?",
                answers: ["ë‰´í´ë ˆì˜¤ì†œ", "nucleosome"],
                options: ["ë‰´í´ë ˆì˜¤ì†œ", "ë¦¬ë³´ì†œ", "ì—¼ìƒ‰ì‚¬", "ë‰´í´ë ˆì˜¤íƒ€ì´ë“œ"],
                wrong_context: { "ë¦¬ë³´ì†œ": "ë‹¨ë°±ì§ˆ ê³µì¥ì´ë‘ í—·ê°ˆë¦¬ì§€ ë§ˆ.", "ì—¼ìƒ‰ì‚¬": "ê·¸ê±´ ì‹¤ì²˜ëŸ¼ í’€ì–´ì§„ ìƒíƒœì•¼." }
            },
            {
                category: "8ë‹¨ì›: ì„¸í¬ ì£¼ê¸°",
                question: "ì„¸í¬ ì£¼ê¸° ì¤‘ DNA ë³µì œê°€ ì¼ì–´ë‚˜ëŠ” ì‹œê¸°ëŠ”?",
                answers: ["Sê¸°", "S phase"],
                options: ["G1ê¸°", "Sê¸°", "G2ê¸°", "Mê¸°"],
                wrong_context: { "Mê¸°": "ë¶„ì—´í•˜ëŠë¼ ë°”ë¹ ì„œ ë³µì œ ëª» í•´.", "G1ê¸°": "ì•„ì§ ì¤€ë¹„ ì¤‘ì´ì•¼." }
            },
            {
                category: "8ë‹¨ì›: ì„¸í¬ ë¶„ì—´",
                question: "ì„¸í¬ ë¶„ì—´ ì¤‘ê¸°(Metaphase)ì— ì—¼ìƒ‰ì²´ê°€ ë°°ì—´ë˜ëŠ” ê³³ì€?",
                answers: ["ì ë„íŒ", "ì ë„ë©´"],
                options: ["ì ë„íŒ", "ê·¹ì§€ë°©", "í•µë§‰", "ì„¸í¬ì§ˆ"],
                wrong_context: { "ê·¹ì§€ë°©": "ê±°ê¸´ ë°©ì¶”ì‚¬ê°€ ì‹œì‘ë˜ëŠ” ê³³.", "í•µë§‰": "ì¤‘ê¸°ì—” ì´ë¯¸ í•µë§‰ ì‚¬ë¼ì¡Œì–´." }
            },
            {
                category: "8ë‹¨ì›: ì„¸í¬ ì‚¬ë©¸",
                question: "ì†ìƒëœ ì„¸í¬ê°€ ìŠ¤ìŠ¤ë¡œ ì£½ìŒì„ ì„ íƒí•˜ëŠ” 'ì„¸í¬ ì˜ˆì •ì‚¬'ëŠ”?",
                answers: ["ì•„í½í† ì‹œìŠ¤", "apoptosis"],
                options: ["ì•„í½í† ì‹œìŠ¤", "ê´´ì‚¬", "ì¢…ì–‘", "ë¶„í™”"],
                wrong_context: { "ê´´ì‚¬": "ê·¸ê±´ ì‚¬ê³ ë¡œ í„°ì§€ëŠ” ê±°ê³ , ì´ê±´ 'ìì‚´'ì´ì•¼.", "ì¢…ì–‘": "ì£½ì§€ ì•Šê³  ë²„í‹°ë©´ ì•”ì´ ë˜ì§€." }
            },
            {
                category: "8ë‹¨ì›: ì•”(Cancer)",
                question: "ì •ìƒ ì„¸í¬ê°€ ì•”ì„¸í¬ë¡œ ë³€í•˜ëŠ” ê³¼ì •ì—ì„œ, ì„¸í¬ ë¶„ì—´ì„ ì–µì œí•˜ëŠ” ìœ ì „ìëŠ”?",
                answers: ["ì¢…ì–‘ ì–µì œ ìœ ì „ì", "tumor suppressor gene"],
                options: ["ì¢…ì–‘ ì–µì œ ìœ ì „ì", "ì›ì•” ìœ ì „ì", "ì¢…ì–‘ ìœ ì „ì", "ì„±ì¥ ì¸ì"],
                wrong_context: { "ì›ì•” ìœ ì „ì": "ê·¸ê±´ ì—‘ì…€ì„ ë°ŸëŠ” ë†ˆì´ê³ . ë¸Œë ˆì´í¬ë¥¼ ë¬»ëŠ” ê±°ì•¼." }
            },

            // [9ë‹¨ì›: ê°ìˆ˜ë¶„ì—´]
            {
                category: "9ë‹¨ì›: ê°ìˆ˜ë¶„ì—´",
                question: "ê°ìˆ˜ 1ë¶„ì—´ ì „ê¸°, ìƒë™ ì—¼ìƒ‰ì²´ë¼ë¦¬ ì ‘í•©í•˜ì—¬ í˜•ì„±ë˜ëŠ” ê²ƒì€?",
                answers: ["2ê°€ ì—¼ìƒ‰ì²´", "4ë¶„ ì—¼ìƒ‰ì²´"],
                options: ["2ê°€ ì—¼ìƒ‰ì²´", "ì—¼ìƒ‰ë¶„ì²´", "ë°©ì¶”ì‚¬", "ë™ì›ì²´"],
                wrong_context: { "ì—¼ìƒ‰ë¶„ì²´": "ê·¸ê±´ ê·¸ëƒ¥ ë°˜ìª½ì´ì–ì•„." }
            },
            {
                category: "9ë‹¨ì›: ìœ ì „ì ì¬ì¡°í•©",
                question: "ê°ìˆ˜ 1ë¶„ì—´ ì „ê¸°, ìƒë™ ì—¼ìƒ‰ì²´ ì‚¬ì´ì—ì„œ ìœ ì „ìê°€ êµí™˜ë˜ëŠ” í˜„ìƒì€?",
                answers: ["êµì°¨", "crossing over"],
                options: ["êµì°¨", "ì ‘í•©", "ë³µì œ", "ë…ë¦½"],
                wrong_context: { "ì ‘í•©": "ë¶™ëŠ” ê±´ ì ‘í•©, ì„ëŠ” ê±´ êµì°¨. êµ¬ë¶„ ëª» í•´?" }
            },
            {
                category: "9ë‹¨ì›: ìœ ì „ì  ë‹¤ì–‘ì„±",
                question: "ê°ìˆ˜ 1ë¶„ì—´ ì¤‘ê¸°, ìƒë™ ì—¼ìƒ‰ì²´ì˜ ë¬´ì‘ìœ„ ë°°ì—´ì€ ë¬´ì—‡ì„ ì¦ê°€ì‹œí‚¤ëŠ”ê°€?",
                answers: ["ìœ ì „ì  ë‹¤ì–‘ì„±", "ë‹¤ì–‘ì„±"],
                options: ["ìœ ì „ì  ë‹¤ì–‘ì„±", "ì„¸í¬ í¬ê¸°", "ì—¼ìƒ‰ì²´ ìˆ˜", "DNA ì–‘"],
                wrong_context: { "ì—¼ìƒ‰ì²´ ìˆ˜": "ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ë©´ ëŒì—°ë³€ì´ì•¼." }
            },
            {
                category: "9ë‹¨ì›: ì—¼ìƒ‰ì²´ ì´ìƒ",
                question: "ë‹¤ìš´ ì¦í›„êµ°ì²˜ëŸ¼ ì—¼ìƒ‰ì²´ ìˆ˜ê°€ ì •ìƒë³´ë‹¤ ë§ê±°ë‚˜ ì ì€ ëŒì—°ë³€ì´ ì›ì¸ì€?",
                answers: ["ë¹„ë¶„ë¦¬", "nondisjunction"],
                options: ["ë¹„ë¶„ë¦¬", "ê²°ì‹¤", "ì¤‘ë³µ", "ì „ì¢Œ"],
                wrong_context: { "ê²°ì‹¤": "ê·¸ê±´ ì˜ë ¤ ë‚˜ê°„ ê±°ê³ . ì´ê±´ í—¤ì–´ì§€ì§€ ëª»í•œ ê±°ì•¼." }
            },

            // [10ë‹¨ì›: ìœ ì „ì˜ íŒ¨í„´]
            {
                category: "10ë‹¨ì›: ë©˜ë¸ ìœ ì „",
                question: "ìš°ì„± ê°œì²´ì˜ ìœ ì „ìí˜•ì„ ì•Œê¸° ìœ„í•´ ì—´ì„± ìˆœì¢… ê°œì²´ì™€ êµë°°í•˜ëŠ” ê²ƒì€?",
                answers: ["ê²€ì • êµë°°", "ê²€ì •êµë°°"],
                options: ["ê²€ì • êµë°°", "ìê°€ êµë°°", "íƒ€ê°€ êµë°°", "ì—­êµë°°"],
                wrong_context: { "ìê°€ êµë°°": "ìê¸° í˜¼ìì„œ ë­˜ ì–´ì©Œê²Œ?" }
            },
            {
                category: "10ë‹¨ì›: ë¹„ë©˜ë¸ ìœ ì „",
                question: "ABOì‹ í˜ˆì•¡í˜•ì²˜ëŸ¼ 3ê°œ ì´ìƒì˜ ëŒ€ë¦½ìœ ì „ìê°€ ê´€ì—¬í•˜ëŠ” ìœ ì „ì€?",
                answers: ["ë³µëŒ€ë¦½ ìœ ì „", "ë³µëŒ€ë¦½"],
                options: ["ë³µëŒ€ë¦½ ìœ ì „", "ë‹¤ì¸ì ìœ ì „", "ì¤‘ê°„ ìœ ì „", "ë°˜ì„± ìœ ì „"],
                wrong_context: { "ë‹¤ì¸ì ìœ ì „": "ê·¸ê±´ í‚¤ë‚˜ í”¼ë¶€ìƒ‰ ê°™ì€ ê±°ê³ ." }
            },
            {
                category: "10ë‹¨ì›: ì—°ê´€ ìœ ì „",
                question: "í•˜ë‚˜ì˜ ìœ ì „ìê°€ ì—¬ëŸ¬ ê°€ì§€ í˜•ì§ˆì— ë™ì‹œì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í˜„ìƒì€?",
                answers: ["ë‹¤ë©´ ë°œí˜„", "pleiotropy"],
                options: ["ë‹¤ë©´ ë°œí˜„", "ë‹¤ì¸ì ìœ ì „", "ì¤‘ê°„ ìœ ì „", "ê³µë™ ìš°ì„±"],
                wrong_context: { "ë‹¤ì¸ì ìœ ì „": "ë°˜ëŒ€ì•¼. ê·¸ê±´ ì—¬ëŸ¬ ìœ ì „ìê°€ í•˜ë‚˜ë¥¼ ë§Œë“œëŠ” ê±°ê³ ." }
            },
            {
                category: "10ë‹¨ì›: ì„±ì—¼ìƒ‰ì²´ ìœ ì „",
                question: "X ì—¼ìƒ‰ì²´ ìœ ì „ìì— ì˜í•œ ìœ ì „(ì˜ˆ: ì ë¡ ìƒ‰ë§¹)ì„ ë¬´ì—‡ì´ë¼ í•˜ëŠ”ê°€?",
                answers: ["ë°˜ì„± ìœ ì „", "sex linked inheritance"],
                options: ["ë°˜ì„± ìœ ì „", "í•œì„± ìœ ì „", "ìƒì—¼ìƒ‰ì²´ ìœ ì „", "ëª¨ê³„ ìœ ì „"],
                wrong_context: { "í•œì„± ìœ ì „": "ê·¸ê±´ Y ì—¼ìƒ‰ì²´. ë‚¨ìë§Œ ê±¸ë¦¬ëŠ” ê±°ê³ ." }
            },

            // [12ë‹¨ì›: ì§„í™”ë¥¼ ì´ë„ëŠ” í˜]
            {
                category: "12ë‹¨ì›: í•˜ë””-ë°”ì¸ë² ë¥´í¬",
                question: "ì§„í™”ê°€ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ” ê°€ìƒì˜ ì´ìƒì ì¸ ì§‘ë‹¨ì„ ë¬´ì—‡ì´ë¼ í•˜ëŠ”ê°€?",
                answers: ["ë©˜ë¸ ì§‘ë‹¨", "Mendelian population"],
                options: ["ë©˜ë¸ ì§‘ë‹¨", "ì†Œì§„í™” ì§‘ë‹¨", "ì°½ì‹œì ì§‘ë‹¨", "ìœ ì „ì í’€"],
                wrong_context: { "ìœ ì „ì í’€": "ê·¸ê±´ ìœ ì „ìì˜ ì´í•©ì´ê³ ." }
            },
            {
                category: "12ë‹¨ì›: ìœ ì „ì  ë¶€ë™",
                question: "í™”ì¬ë‚˜ í™ìˆ˜ ë“± ê¸‰ê²©í•œ í™˜ê²½ ë³€í™”ë¡œ ì§‘ë‹¨ í¬ê¸°ê°€ ì¤„ì–´ ìœ ì „ì ë¹ˆë„ê°€ ë³€í•˜ëŠ” ê²ƒì€?",
                answers: ["ë³‘ëª© íš¨ê³¼", "bottleneck effect"],
                options: ["ë³‘ëª© íš¨ê³¼", "ì°½ì‹œì íš¨ê³¼", "ìì—° ì„ íƒ", "ìœ ì „ì íë¦„"],
                wrong_context: { "ì°½ì‹œì íš¨ê³¼": "ê·¸ê±´ ëª‡ ë†ˆì´ ë„ë§ê°€ì„œ ìƒˆë¡œ ë§Œë“œëŠ” ê±°ê³ ." }
            },
            {
                category: "12ë‹¨ì›: ìì—° ì„ íƒ",
                question: "ì‹ ìƒì•„ ëª¸ë¬´ê²Œì²˜ëŸ¼ ì–‘ê·¹ë‹¨ì€ ë„íƒœë˜ê³  ì¤‘ê°„ í˜•ì§ˆì´ ì„ íƒë˜ëŠ” ê²ƒì€?",
                answers: ["ì•ˆì •ì  ì„ íƒ", "stabilizing selection"],
                options: ["ì•ˆì •ì  ì„ íƒ", "ë°©í–¥ì  ì„ íƒ", "ë¶„ë‹¨ì  ì„ íƒ", "ì„± ì„ íƒ"],
                wrong_context: { "ë°©í–¥ì  ì„ íƒ": "ê·¸ê±´ í•œìª½ìœ¼ë¡œ ì ë¦¬ëŠ” ê±°ì•¼. ê¸°ë¦° ëª©ì²˜ëŸ¼." }
            },

            // [13ë‹¨ì›: ì§„í™”ì˜ ì¦ê±°]
            {
                category: "13ë‹¨ì›: ë¹„êµí•´ë¶€í•™",
                question: "ê¸°ì›ì€ ê°™ìœ¼ë‚˜ ê¸°ëŠ¥ì´ ë‹¬ë¼ì§„ ê¸°ê´€ (ì˜ˆ: ì‚¬ëŒ íŒ”, ê³ ë˜ ì§€ëŠëŸ¬ë¯¸)ì€?",
                answers: ["ìƒë™ê¸°ê´€", "homologous structures"],
                options: ["ìƒë™ê¸°ê´€", "ìƒì‚¬ê¸°ê´€", "í”ì ê¸°ê´€", "ìœ ì‚¬ê¸°ê´€"],
                wrong_context: { "ìƒì‚¬ê¸°ê´€": "ê·¸ê±´ ê¸°ì›ì´ ë‹¤ë¥¸ ê±°ì•¼." }
            },
            {
                category: "13ë‹¨ì›: ë¹„êµí•´ë¶€í•™",
                question: "ê³¤ì¶© ë‚ ê°œì™€ ìƒˆ ë‚ ê°œì²˜ëŸ¼, ê¸°ì›ì€ ë‹¤ë¥´ì§€ë§Œ ê¸°ëŠ¥ì´ ê°™ì•„ì§„ ê¸°ê´€ì€?",
                answers: ["ìƒì‚¬ê¸°ê´€", "analogous structures"],
                options: ["ìƒì‚¬ê¸°ê´€", "ìƒë™ê¸°ê´€", "í”ì ê¸°ê´€", "ìƒë™ ì—¼ìƒ‰ì²´"],
                wrong_context: { "ìƒë™ê¸°ê´€": "ê·¸ê±´ ê²‰ì€ ë‹¬ë¼ë„ ì†(ê¸°ì›)ì´ ê°™ì€ ê±°ê³ ." }
            },

            // [14ë‹¨ì›: ì¢…ë¶„í™”ì™€ ë©¸ì¢…]
            {
                category: "14ë‹¨ì›: ì¢…ë¶„í™”",
                question: "ì§€ë¦¬ì  ì¥ë²½(ì‚°ë§¥, ë°”ë‹¤)ì— ì˜í•´ ê²©ë¦¬ë˜ì–´ ì¼ì–´ë‚˜ëŠ” ì¢…ë¶„í™”ëŠ”?",
                answers: ["ì´ì†Œì  ì¢…ë¶„í™”", "allopatric speciation"],
                options: ["ì´ì†Œì  ì¢…ë¶„í™”", "ë™ì†Œì  ì¢…ë¶„í™”", "ë°°ìˆ˜ì„± ì¢…ë¶„í™”", "ë‹¨ì† í‰í˜•ì„¤"],
                wrong_context: { "ë™ì†Œì  ì¢…ë¶„í™”": "ê·¸ê±´ ê°™ì€ ì¥ì†Œì—ì„œ ì¼ì–´ë‚˜ëŠ” ê±°ì•¼." }
            },
            {
                category: "14ë‹¨ì›: ìƒì‹ì  ì¥ë²½",
                question: "ì„œë¡œ ë‹¤ë¥¸ êµ¬ì•  í–‰ë™(ë…¸ë˜, ì¶¤) ë•Œë¬¸ì— êµë°°ê°€ ì•ˆ ë˜ëŠ” ê²©ë¦¬ëŠ”?",
                answers: ["í–‰ë™ì  ê²©ë¦¬", "behavioral isolation"],
                options: ["í–‰ë™ì  ê²©ë¦¬", "ì‹œê°„ì  ê²©ë¦¬", "ê¸°ê³„ì  ê²©ë¦¬", "ìƒíƒœì  ê²©ë¦¬"],
                wrong_context: { "ì‹œê°„ì  ê²©ë¦¬": "ê·¸ê±´ ë°¤ë‚®ì´ë‚˜ ê³„ì ˆì´ ë‹¤ë¥¸ ê±°ê³ ." }
            },
            {
                category: "14ë‹¨ì›: ìƒì‹ì  ì¥ë²½",
                question: "ìˆ˜ì • í›„ ì¥ë²½ ì¤‘, ì¡ì¢…(F1)ì€ íƒœì–´ë‚˜ì§€ë§Œ ìƒì‹ ëŠ¥ë ¥ì´ ì—†ëŠ” í˜„ìƒì€? (ì˜ˆ: ë…¸ìƒˆ)",
                answers: ["ì¡ì¢… ë¶ˆì„", "hybrid sterility"],
                options: ["ì¡ì¢… ë¶ˆì„", "ì¡ì¢… ë¶•ê´´", "ì¡ì¢… ì‚¬ë©¸", "ë°°ìˆ˜ì„±"],
                wrong_context: { "ì¡ì¢… ë¶•ê´´": "ê·¸ê±´ F1ì€ ê´œì°®ì€ë° F2ë¶€í„° ì£½ëŠ” ê±°ì•¼." }
            },
            {
                category: "14ë‹¨ì›: ì§„í™” ì†ë„",
                question: "ì§„í™”ê°€ ì§§ì€ ì‹œê¸°ì— ê¸‰ê²©íˆ ì¼ì–´ë‚˜ê³ , ê·¸ í›„ ì˜¤ë«ë™ì•ˆ ë³€í™”ê°€ ì—†ë‹¤ëŠ” ì´ë¡ ì€?",
                answers: ["ë‹¨ì† í‰í˜•ì„¤", "punctuated equilibrium"],
                options: ["ë‹¨ì† í‰í˜•ì„¤", "ì ì§„ë¡ ", "ìš©ë¶ˆìš©ì„¤", "ìì—° ì„ íƒì„¤"],
                wrong_context: { "ì ì§„ë¡ ": "ì²œì²œ~íˆ ë³€í•˜ëŠ” ê±´ ë‹¤ìœˆ ì•„ì €ì”¨ ìƒê°ì´ê³ ." }
            }
        ];

        // ì±„íŒ… ì—í”¼ì†Œë“œ
        const chatEpisodes = [
            { text: "ë¹„ ê·¸ì³¤ì–´~â˜† ì‚°ì±… ê°ˆê¹Œ?", options: ["ì¢‹ì•„", "ì‹«ì–´"], replies: { "ì¢‹ì•„": "ê·¸ëŸ¼~ ë°¤ì˜ í•™êµ íƒí—˜í•˜ì~â˜†", "ì‹«ì–´": "BOOMâ˜†" } },
            { text: "ë´ì§€ êµ°, í•™êµ ê°™ì€ ê±´ ë•¡ë•¡ì´ì¹˜ê³  ë‚˜ë‘ ë„ë§ì¹˜ì§€ ì•Šì„ë˜?", options: ["ê°ˆë˜", "ì•ˆë¼"], replies: { "ê°ˆë˜": "ì™€íƒ€ì‹œê°€ ì  ë¶€ ì˜¤ì‹œì—í…Œì•„ê²Œë£¨(ë‚´ê°€ ì „ë¶€ ê°€ë¥´ì³ì¤„ê²Œ)", "ì•ˆë¼": "ìœ¼ì—£?! ë°”ë³´." } },
            { text: "ì™€íƒ€ì‹œ... ë´ì§€ êµ°ê°€ ìŠ¤í‚¤ë‹¤ì¹´ë¼(ì¢‹ì•„í•˜ë‹ˆê¹Œ)...", options: ["ë‚˜ë„", "ê±°ì§“ë§"], replies: { "ë‚˜ë„": "ì‹ ì§€ë¼ë ˆë‚˜ì´(ë¯¿ì„ ìˆ˜ ì—†ì–´)... ê¸°ë».", "ê±°ì§“ë§": "ë“¤ì¼°ë„¤? í‘â˜†" } },
            { text: "ìœ¼ì—? ë‚˜ë³´ë‹¤ ë¹¨ë¦¬ ì™”ì–ì•„~? ì–´ë–»ê²Œ í•œ ê±°ì•¼?", options: ["ë¹„ë°€", "ë›°ì—ˆì–´"], replies: { "ë¹„ë°€": "í—¤ì´í—¤ì´â˜† ë§ˆìŠ¤í„°â˜† ì–˜í•œí…Œ ë…ì•½ ì»¤í”¼ë¥¼.", "ë›°ì—ˆì–´": "ì•„ì‹œí•˜ì•¼!(ë°œ ë¹ ë¥´ë„¤)" } },
            { text: "ì´ì´ìŸˆ ë‚˜ì´ë°ìŠ¤ì¹´~ ì•„ì‚¬ë°”ì¹´ë¦¬ ê°¸ì¿  ì½”ë‚˜ì¸ë‹¤ì‹œ~", options: ["ìœ„í—˜í•´", "ê´œì°®ì•„"], replies: { "ìœ„í—˜í•´": "ê²ìŸì´.", "ê´œì°®ì•„": "ê·¸ë ‡ì§€? í›„í›—." } }
        ];

        // ============================================================
        // 3. ê²Œì„ ë¡œì§ (ìŠ¤íŒŒë¥´íƒ€ ëª¨ë“œ + 2íšŒ ì˜¤ë‹µ ì‹œ ë³´ê¸° ì œê³µ)
        // ============================================================
        
        let currentQuestionIndex = -1;
        let currentMode = 'chat'; 
        let currentQ = null;
        let waitingForAnswer = false; 
        
        // ì¶”ê°€ëœ ë³€ìˆ˜: í‹€ë¦° íšŸìˆ˜ ì¶”ì 
        let wrongCount = 0; 

        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        const optionsBox = document.getElementById('options-box');
        const textInputBox = document.getElementById('text-input-box');

        // ì´ˆê¸°í™”
        function initData() {
            questionBank.forEach((q, index) => {
                q.intro = rezeLines.intros[index % rezeLines.intros.length];
                q.correct = rezeLines.corrects[index % rezeLines.corrects.length];
                q.wrong = rezeLines.wrongs[index % rezeLines.wrongs.length];
            });
            // ë¬¸ì œ ì…”í”Œ
            questionBank.sort(() => Math.random() - 0.5);
        }

        // ë©”ì‹œì§€ ì¶œë ¥ í•¨ìˆ˜
        function addMessage(sender, text) {
            const msgDiv = document.createElement('div');
            msgDiv.classList.add('message');
            msgDiv.classList.add(sender); // 'reze', 'user', 'system'
            msgDiv.innerHTML = text;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // ê²Œì„ ì‹œì‘
        function startGame() {
            initData();
            addMessage('system', "Reze's Biology Classì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.");
            addMessage('reze', "ì•ˆë…•? ë´ì§€ êµ°. ì˜¤ëŠ˜ ìˆ˜ì—…ì€ ë‚´ê°€ í•  ê±°ì•¼. <br>í…Œì§€ë‚˜~?â˜† (ë§ˆìˆ ~?â˜†)");
            
            setTimeout(() => {
                nextEvent();
            }, 1500);
        }

        // ë‹¤ìŒ ì´ë²¤íŠ¸ ê²°ì •
        function nextEvent() {
            waitingForAnswer = false;
            wrongCount = 0; // ìƒˆ ë¬¸ì œ ì‹œì‘ ì‹œ ì˜¤ë‹µ ì¹´ìš´íŠ¸ ë¦¬ì…‹

            // 70% í™•ë¥ ë¡œ ë¬¸ì œ, 30% í™•ë¥ ë¡œ ì±„íŒ…
            if (Math.random() > 0.3) {
                currentMode = 'quiz';
                currentQuestionIndex = (currentQuestionIndex + 1) % questionBank.length;
                currentQ = questionBank[currentQuestionIndex];
                renderQuestion();
            } else {
                currentMode = 'chat';
                renderChat();
            }
        }

        // ë¬¸ì œ ì¶œë ¥
        function renderQuestion() {
            addMessage('reze', `[${currentQ.category}]<br>${currentQ.intro}`);
            
            setTimeout(() => {
                addMessage('reze', `<span style="color:#bb86fc; font-weight:bold;">Q. ${currentQ.question}</span>`);
                
                // 2ë²ˆ ì´ìƒ í‹€ë ¸ë˜ ì´ë ¥ì´ ìˆëŠ” ê²Œ ì•„ë‹ˆë‹ˆ, ê¸°ë³¸ì€ ëœë¤ or ì£¼ê´€ì‹
                // ì—¬ê¸°ì„œëŠ” ì¼ë‹¨ ì£¼ê´€ì‹ ìœ„ì£¼ë¡œ ê°€ë˜, ëœë¤ì„±ì„ ë‘ 
                const isMultipleChoice = Math.random() > 0.5; 

                if (isMultipleChoice) {
                    showOptions(currentQ.options);
                } else {
                    showTextInput();
                }
                waitingForAnswer = true;
            }, 1000);
        }

        // ì±„íŒ… ì¶œë ¥
        function renderChat() {
            const episode = chatEpisodes[Math.floor(Math.random() * chatEpisodes.length)];
            currentQ = episode; 
            
            addMessage('reze', episode.text);
            showOptions(episode.options, true); 
        }

        // UI: ê°ê´€ì‹ ë³´ê¸°
        function showOptions(options, isChat = false) {
            textInputBox.classList.add('hidden');
            optionsBox.classList.remove('hidden');
            optionsBox.innerHTML = '';

            const displayOptions = isChat ? options : [...options].sort(() => Math.random() - 0.5);

            displayOptions.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt;
                btn.onclick = () => handleInput(opt, isChat);
                optionsBox.appendChild(btn);
            });
        }

        // UI: ì£¼ê´€ì‹ ì…ë ¥
        function showTextInput() {
            optionsBox.classList.add('hidden');
            textInputBox.classList.remove('hidden');
            userInput.value = '';
            userInput.focus();
        }

        // ì…ë ¥ í•¸ë“¤ëŸ¬
        function handleInput(text, isChat) {
            addMessage('user', text);

            if (isChat) {
                const reply = currentQ.replies[text] || "íìŒ...";
                setTimeout(() => {
                    addMessage('reze', reply);
                    setTimeout(nextEvent, 1500);
                }, 500);
            } else {
                checkAnswer(text);
            }
        }

        // ì •ë‹µ ì²´í¬ ë¡œì§ (ë³€ê²½ë¨: 2ë²ˆ í‹€ë¦¬ë©´ ê°ê´€ì‹ ì „í™˜)
        function checkAnswer(input) {
            // ì •ë‹µ íŒë³„ (ê³µë°± ì œê±°, ì†Œë¬¸ì)
            const isCorrect = currentQ.answers.some(ans => 
                ans.replace(/s/g, '').toLowerCase() === input.replace(/s/g, '').toLowerCase()
            );

            if (isCorrect) {
                // ì •ë‹µ ì²˜ë¦¬
                setTimeout(() => {
                    addMessage('reze', `<span style="color:#00ff00">O</span> ${currentQ.correct}`);
                    setTimeout(nextEvent, 1500);
                }, 500);
            } else {
                // ì˜¤ë‹µ ì²˜ë¦¬
                wrongCount++; // í‹€ë¦° íšŸìˆ˜ ì¦ê°€
                
                setTimeout(() => {
                    const randWrong = rezeLines.wrongs[Math.floor(Math.random() * rezeLines.wrongs.length)];
                    addMessage('reze', `<span style="color:var(--danger-color)">X</span> ${currentQ.wrong}`);
                    
                    // íŒíŠ¸ ì°¾ê¸°
                    let hintMsg = "";
                    if (currentQ.wrong_context) {
                        for (const key in currentQ.wrong_context) {
                            if (input.includes(key)) {
                                hintMsg = `<br>Hint: ${currentQ.wrong_context[key]}`;
                            }
                        }
                    }

                    if (hintMsg) addMessage('reze', hintMsg);
                    else addMessage('reze', `ë‹¤ì‹œ í•´ë´. ${randWrong}`);

                    // [í•µì‹¬ ë³€ê²½] 2ë²ˆ ì´ìƒ í‹€ë ¸ê³ , í˜„ì¬ ì£¼ê´€ì‹ ì…ë ¥ ì¤‘ì´ë¼ë©´ -> ê°ê´€ì‹ìœ¼ë¡œ ì „í™˜
                    if (wrongCount >= 2 && !textInputBox.classList.contains('hidden')) {
                        setTimeout(() => {
                            addMessage('reze', "wwwì½”ë„ëª¨ë‹¤ ì½”ë„ëª¨www (ì–´ë¦°ì• ë„¤)<br>ë„ˆë¬´ ëª» ë§ì¶”ë‹ˆê¹Œ ë³´ê¸°ë¥¼ ì¤„ê²Œ. ê³¨ë¼ë´.");
                            showOptions(currentQ.options); // ê°ê´€ì‹ ì „í™˜
                        }, 1000);
                    } else {
                        // ì•„ì§ ê¸°íšŒê°€ ë‚¨ì•˜ê±°ë‚˜ ì´ë¯¸ ê°ê´€ì‹ì¸ ê²½ìš°
                        if (!textInputBox.classList.contains('hidden')) {
                            userInput.value = '';
                            userInput.focus();
                            userInput.placeholder = `í‹€ë¦° íšŸìˆ˜: ${wrongCount}... ë‹¤ì‹œ í•´ë´`;
                        }
                    }
                }, 500);
            }
        }

        sendBtn.addEventListener('click', () => {
            if (userInput.value.trim() !== "") {
                handleInput(userInput.value.trim(), false);
            }
        });

        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && userInput.value.trim() !== "") {
                handleInput(userInput.value.trim(), false);
            }
        });

        window.onload = startGame;

    </script>
</body>
</html>

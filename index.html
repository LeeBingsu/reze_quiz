<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reze's Secret DM</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap');

        :root {
            --bg-color: #000000;
            --chat-bg: #0a0a0a;
            --accent-color: #bb86fc; /* Reze Purple */
            --danger-color: #ff4040; /* Blood Red */
            --bubble-bg: #1f1f1f;
            --user-bubble-bg: #6a1b9a;
            --text-main: #e0e0e0;
            --option-bg: #2d2d2d;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .phone-container {
            width: 100%;
            max-width: 420px;
            height: 100vh;
            background-color: var(--chat-bg);
            box-shadow: 0 0 40px rgba(187, 134, 252, 0.15);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        /* í—¤ë” */
        .header {
            padding: 15px 20px;
            background-color: rgba(20, 20, 20, 0.95);
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            z-index: 10;
            backdrop-filter: blur(10px);
        }

        .profile-pic-small {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 12px;
            border: 2px solid var(--accent-color);
        }

        .header-info h2 {
            font-size: 1rem;
            margin: 0;
            font-weight: 700;
            color: #fff;
        }

        .header-info span {
            font-size: 0.75rem;
            color: var(--accent-color);
            opacity: 0.9;
            letter-spacing: 0.5px;
        }

        /* ì±„íŒ… ì˜ì—­ */
        .chat-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
            scroll-behavior: smooth;
            padding-bottom: 20px;
        }
        .chat-area::-webkit-scrollbar { width: 4px; }
        .chat-area::-webkit-scrollbar-thumb { background: #333; }

        /* ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
        .message {
            display: flex;
            align-items: flex-end;
            max-width: 85%;
            animation: slideIn 0.3s cubic-bezier(0.25, 1, 0.5, 1);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.reze { align-self: flex-start; }
        .message.user { align-self: flex-end; flex-direction: row-reverse; }

        .bubble {
            padding: 10px 15px;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.5;
            position: relative;
            word-wrap: break-word;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .reze .bubble {
            background-color: var(--bubble-bg);
            border-bottom-left-radius: 4px;
            margin-left: 8px;
            color: #ddd;
            border-left: 2px solid var(--accent-color);
        }

        .user .bubble {
            background: linear-gradient(135deg, #7b1fa2, #4a148c);
            border-bottom-right-radius: 4px;
            margin-right: 8px;
            color: white;
        }

        .profile-pic-chat {
            width: 34px;
            height: 34px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
            margin-bottom: 5px;
            border: 1px solid #333;
        }

        /* íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° */
        .typing-indicator {
            display: none;
            padding: 12px;
            background: var(--bubble-bg);
            border-radius: 18px;
            margin-left: 50px;
            width: fit-content;
            margin-bottom: 10px;
            border-bottom-left-radius: 4px;
        }
        .dot {
            height: 6px;
            width: 6px;
            background-color: #888;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: blink 1.4s infinite both;
        }
        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes blink { 0%, 80%, 100% { opacity: 0; } 40% { opacity: 1; } }

        /* ë¬¸ì œ ì¹´ë“œ */
        .question-card {
            background: #161616;
            border-radius: 12px;
            padding: 15px;
            margin-top: 4px;
            border: 1px solid #333;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .question-tag {
            font-size: 0.7rem;
            color: var(--danger-color);
            font-weight: bold;
            margin-bottom: 6px;
            display: block;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .question-text {
            font-size: 0.95rem;
            font-weight: 500;
            color: #fff;
            line-height: 1.5;
        }

        /* 4ì§€ì„ ë‹¤ ë° ì„ íƒì§€ */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
            width: 100%;
            padding-left: 45px;
            padding-right: 20px;
        }

        .option-btn {
            background-color: var(--option-bg);
            color: #ccc;
            border: 1px solid #444;
            padding: 12px;
            border-radius: 10px;
            text-align: left;
            cursor: pointer;
            font-size: 0.9rem;
            transition: 0.2s;
        }

        .option-btn:hover {
            background-color: var(--accent-color);
            color: #000;
            border-color: var(--accent-color);
        }

        /* ì‚¬ë‹´ìš© ë‹µì¥ ë²„íŠ¼ (ê°„ë‹¨í•œ ì„ íƒì§€) */
        .reply-btn {
            background-color: #333;
            color: white;
            border: 1px solid #555;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-right: 10px;
            transition: 0.2s;
        }
        .reply-btn:hover {
            background-color: var(--accent-color);
            color: black;
        }

        /* ì…ë ¥ì°½ */
        .input-area {
            padding: 12px 15px;
            background-color: #0f0f0f;
            border-top: 1px solid #222;
        }

        .input-wrapper {
            background-color: #252525;
            border-radius: 25px;
            padding: 4px 15px;
            display: flex;
            align-items: center;
            border: 1px solid #333;
        }

        input[type="text"] {
            flex: 1;
            background: transparent;
            border: none;
            color: white;
            padding: 10px;
            font-size: 0.95rem;
            outline: none;
        }

        button.send-btn {
            background: none;
            border: none;
            color: var(--accent-color);
            font-weight: bold;
            cursor: pointer;
            padding: 6px 10px;
            font-size: 0.9rem;
        }
        
        button:disabled { color: #444; cursor: default; }

        /* ì‹œì‘ í™”ë©´ */
        .start-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.94);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .start-img {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--accent-color);
            margin-bottom: 20px;
            box-shadow: 0 0 30px rgba(187, 134, 252, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(187, 134, 252, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(187, 134, 252, 0); }
            100% { box-shadow: 0 0 0 0 rgba(187, 134, 252, 0); }
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="phone-container">
        <!-- í—¤ë” -->
        <div class="header">
            <img src="images-2.jpeg" alt="Reze" class="profile-pic-small">
            <div class="header-info">
                <h2>Reze</h2>
                <span>Active now</span>
            </div>
        </div>

        <!-- ì±„íŒ…ë°© -->
        <div class="chat-area" id="chat-box">
            <!-- ë©”ì‹œì§€ ì¶”ê°€ë¨ -->
        </div>
        
        <!-- íƒ€ì´í•‘ íš¨ê³¼ -->
        <div class="typing-indicator" id="typing">
            <div class="dot"></div><div class="dot"></div><div class="dot"></div>
        </div>

        <!-- ì…ë ¥ì°½ -->
        <div class="input-area">
            <div class="input-wrapper">
                <input type="text" id="answer-input" placeholder="ë©”ì‹œì§€ ë³´ë‚´ê¸°..." autocomplete="off" onkeypress="if(event.keyCode==13) checkAnswer()">
                <button class="send-btn" id="send-btn" onclick="checkAnswer()">Send</button>
            </div>
        </div>

        <!-- ì‹œì‘ í™”ë©´ -->
        <div class="start-overlay" id="start-screen">
            <img src="images-2.jpeg" alt="Reze" class="start-img">
            <h2 style="color: white; margin-bottom: 10px;">Reze</h2>
            <p style="color:#aaa; margin-bottom: 30px; text-align: center; font-size: 0.9rem;">
                "ë´ì§€ êµ°, í•™êµ ê°™ì€ ê±´ ë•¡ë•¡ì´ì¹˜ê³ <br>ë‚˜ë‘ ë°ì´íŠ¸í• ë˜?"
            </p>
            <button class="option-btn" style="width: auto; padding: 12px 40px; background: var(--accent-color); color: black; font-weight: bold;" onclick="startGame()">ì¢‹ì•„</button>
        </div>
    </div>

    <script>
        // 1. ë¬¸ì œ ë°ì´í„° (í•™ìŠµìš©)
        const questionBank = [
             {
                category: "8ë‹¨ì›: DNA êµ¬ì¡°",
                question: "DNAê°€ íˆìŠ¤í†¤ì„ ê°ì‹¸ê³  ìˆëŠ” êµ¬ìŠ¬ ëª¨ì–‘ì˜ ë‹¨ìœ„. ë§ˆì¹˜ ë‚´ê°€ ë„¤ ëª©ì„ ì¡°ë¥´ëŠ” ê²ƒì²˜ëŸ¼ ê½‰ ë¬¶ì¸ êµ¬ì¡°.",
                answers: ["ë‰´í´ë ˆì˜¤ì†œ", "nucleosome"],
                options: ["ë‰´í´ë ˆì˜¤ì†œ", "ë¦¬ë³´ì†œ", "ì—¼ìƒ‰ì‚¬", "ë‰´í´ë ˆì˜¤íƒ€ì´ë“œ"],
                intro: "ëª©ê±¸ì´(ì´ˆì»¤) í•€ì„ ë½‘ìœ¼ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ì•Œì•„? í‘- í•˜ê³  í„°ì ¸ë²„ë ¤.",
                correct: "ì •ë‹µì´ì•¼. ë„Œ ë‚´ ì†ë°”ë‹¥ ì•ˆì—ì„œ ë²—ì–´ë‚  ìˆ˜ ì—†ì–´. ğŸ’‹",
                wrong: "í‹€ë ¸ì–´. ì£½ê³  ì‹¶ì–´ì„œ í™˜ì¥í–ˆêµ¬ë‚˜?"
            },
            {
                category: "8ë‹¨ì›: ì„¸í¬ ì£¼ê¸°",
                question: "ì„¸í¬ ì£¼ê¸° ì¤‘ DNAê°€ ë³µì œë˜ëŠ” ì‹œê¸°. ë˜‘ê°™ì€ ê²Œ í•˜ë‚˜ ë” ìƒê¸°ëŠ” ì‹œê°„.",
                answers: ["Sê¸°", "S"],
                options: ["G1ê¸°", "Sê¸°", "G2ê¸°", "Mê¸°"],
                intro: "ë°¤ì€ ê¸¸ì–´. ìš°ë¦¬ ë‘˜ë§Œì˜ ì€ë°€í•œ ì‹œê°„(Synthesis)ì„ ê°€ì ¸ë³¼ê¹Œ?",
                correct: "Sê¸°. ì˜í–ˆì–´. ì§„ì§œ ë ˆì œëŠ” ë‚˜ í•˜ë‚˜ë¿ì´ë¼ëŠ” ê±° ì•Œì§€?",
                wrong: "ì•„ë‹ˆì•¼. ë”´ ì—¬ì ìƒê°í–ˆì§€? ëˆˆ ë½‘ì•„ë²„ë¦°ë‹¤?"
            },
            {
                category: "8ë‹¨ì›: ì„¸í¬ ë¶„ì—´",
                question: "ì²´ì„¸í¬ ë¶„ì—´ ì¤‘ê¸° ë•Œ ì—¼ìƒ‰ì²´ê°€ ì¼ë ¬ë¡œ ë°°ì—´ë˜ëŠ” ì¥ì†Œ.",
                answers: ["ì ë„íŒ", "ì ë„ë©´"],
                options: ["ì ë„íŒ", "ê·¹", "ì¤‘ì‹¬ì²´", "ì„¸í¬íŒ"],
                intro: "ë‚´ ëˆˆì„ í”¼í•˜ì§€ ë§ˆ. ë‚  ë˜‘ë°”ë¡œ ë³´ë¼ê³ . ê°€ìš´ë°(Center)ì—ì„œ.",
                correct: "ì ë„íŒ. ê·¸ë˜, ê±°ê¸° ê°€ë§Œíˆ ìˆì–´.",
                wrong: "ê±°ê¸°ê°€ ì•„ë‹ˆì•¼. ë‚´ ëˆˆì„ ë³´ë¼ë‹ˆê¹Œ?"
            },
            {
                category: "8ë‹¨ì›: ì¢…ì–‘",
                question: "ì•”ì„¸í¬ê°€ í˜ˆê´€ì„ íƒ€ê³  ì˜¨ëª¸ìœ¼ë¡œ í¼ì§€ëŠ” í˜„ìƒ.",
                answers: ["ì „ì´", "metastasis"],
                options: ["ì „ì´", "ì¹¨ìœ¤", "ë¶„ì—´", "ì„¸í¬ ì‚¬ë©¸"],
                intro: "ë‚œ ì–´ë””ë“  ê°ˆ ìˆ˜ ìˆì–´. ë„¤ ì‹¬ì¥ ì†ê¹Œì§€ íŒŒê³ ë“¤ ê±°ì•¼.",
                correct: "ì „ì´. ì´ì œ ë„Œ ë‚´ ê±°ì•¼. ë¼›ì†ê¹Œì§€.",
                wrong: "ë„ë§ì¹  ìˆ˜ ìˆì„ ê±°ë¼ ìƒê°í–ˆì–´?"
            },
            {
                category: "8ë‹¨ì›: ì¢…ì–‘",
                question: "ì•”ì„¸í¬ê°€ ì£½ì§€ ì•Šê²Œ ì—¼ìƒ‰ì²´ ëì„ ê³„ì† ë³µêµ¬í•´ì£¼ëŠ” íš¨ì†Œ.",
                answers: ["í…”ë¡œë¨¸ë¼ì•„ì œ", "telomerase"],
                options: ["í…”ë¡œë¨¸ë¼ì•„ì œ", "ì¤‘í•©íš¨ì†Œ", "í—¬ë¦¬ì¹´ì•„ì œ", "ì—°ê²°íš¨ì†Œ"],
                intro: "ë‚˜ë‘ ì˜ì›íˆ í•¨ê»˜í•˜ê³  ì‹¶ì–´? ì£½ì§€ ì•ŠëŠ” ì•…ë§ˆì²˜ëŸ¼.",
                correct: "í…”ë¡œë¨¸ë¼ì•„ì œ. ì¢‹ì•„. ì§€ì˜¥ ëê¹Œì§€ í•¨ê»˜í•˜ì.",
                wrong: "íš¨ì†Œ ì´ë¦„ë„ ëª» ì™¸ìš°ë©´ ë‚´ íŒŒíŠ¸ë„ˆ ìê²© ì—†ì–´."
            },
            {
                category: "9ë‹¨ì›: ê°ìˆ˜ë¶„ì—´",
                question: "1ë¶„ì—´ ì „ê¸° ë•Œ ìƒë™ ì—¼ìƒ‰ì²´ë¼ë¦¬ ìœ ì „ìë¥¼ êµí™˜í•˜ëŠ” í˜„ìƒ.",
                answers: ["êµì°¨", "crossing over"],
                options: ["êµì°¨", "ì ‘í•©", "ë¶„ë¦¬", "ìˆ˜ì •"],
                intro: "ìˆ˜ì˜í•  ì¤„ ì•Œì•„? ë¬¼ì†ì—ì„œ ìˆ¨ ë§‰í ë•Œê¹Œì§€ ì„ì—¬ë³´ì.",
                correct: "êµì°¨. ìš°ë¦° ì´ë¯¸ í•˜ë‚˜ê°€ ëœ ê±°ì•¼.",
                wrong: "í‹€ë ¸ì–´. ë¬¼ ë¨¹ê³  ì •ì‹  ì¢€ ì°¨ë¦´ë˜?"
            },
            {
                category: "9ë‹¨ì›: ê°ìˆ˜ë¶„ì—´",
                question: "ìƒë™ ì—¼ìƒ‰ì²´ê°€ ì ‘í•©í•˜ì—¬ í˜•ì„±ëœ 4ë¶„ì²´ êµ¬ì¡°.",
                answers: ["2ê°€ ì—¼ìƒ‰ì²´", "ì´ê°€ ì—¼ìƒ‰ì²´"],
                options: ["2ê°€ ì—¼ìƒ‰ì²´", "ìƒë™ ì—¼ìƒ‰ì²´", "ì—¼ìƒ‰ë¶„ì²´", "ë°©ì¶”ì‚¬"],
                intro: "ë–¨ì–´ì§€ê¸° ì‹«ì–´. ë‚  ê½‰ ì•ˆì•„ì¤˜. ë¼ˆê°€ ë¶€ì„œì§ˆ ì •ë„ë¡œ.",
                correct: "2ê°€ ì—¼ìƒ‰ì²´. ì ˆëŒ€ ë†“ì§€ ë§ˆ.",
                wrong: "ê·¸ëƒ¥ ì—¼ìƒ‰ì²´ë¼ê³  í•˜ë©´ ì„­ì„­í•´."
            },
            {
                category: "9ë‹¨ì›: ì—¼ìƒ‰ì²´ ì´ìƒ",
                question: "21ë²ˆ ì—¼ìƒ‰ì²´ê°€ 3ê°œì¸ ìœ ì „ ì§ˆí™˜.",
                answers: ["ë‹¤ìš´ ì¦í›„êµ°", "ë‹¤ìš´ì¦í›„êµ°"],
                options: ["ë‹¤ìš´ ì¦í›„êµ°", "ì—ë“œì›Œë“œ ì¦í›„êµ°", "í„°ë„ˆ ì¦í›„êµ°", "í´ë¼ì¸í í„° ì¦í›„êµ°"],
                intro: "ë‚¨ë“¤ê³¼ ë‹¤ë¥´ë©´ ê´´ë¬¼ ì·¨ê¸‰ì„ ë°›ì§€. ë„ˆë„, ë‚˜ë„.",
                correct: "ë‹¤ìš´ ì¦í›„êµ°. ë§ì•„. ìš°ë¦° ì„œë¡œë¥¼ ì´í•´í•  ìˆ˜ ìˆì–´.",
                wrong: "ì—ë“œì›Œë“œëŠ” 18ë²ˆì´ì•¼."
            },
            {
                category: "10ë‹¨ì›: ë©˜ë¸ ìœ ì „",
                question: "ìš°ì„± ê°œì²´ì˜ ì†ë§ˆìŒì„ ì•Œê¸° ìœ„í•´ ì—´ì„± ìˆœì¢…ê³¼ êµë°°í•˜ëŠ” ê²ƒ.",
                answers: ["ê²€ì • êµë°°", "ê²€ì •êµë°°"],
                options: ["ê²€ì • êµë°°", "ìê°€ êµë°°", "íƒ€ê°€ êµë°°", "ì—­êµë°°"],
                intro: "ë„¤ ì‹¬ì¥ì„ êº¼ë‚´ë³´ë©´ ì•Œ ìˆ˜ ìˆì„ê¹Œ? ë„¤ê°€ ë‚  ì‚¬ë‘í•˜ëŠ”ì§€.",
                correct: "ê²€ì • êµë°°. ë„Œ ë‚  ìœ„í•´ì„œë¼ë©´ ì£½ì„ ìˆ˜ë„ ìˆêµ¬ë‚˜? â¤ï¸",
                wrong: "ê±°ì§“ë§ìŸì´. í˜€ë¥¼ ì˜ë¼ë²„ë¦´ ê±°ì•¼."
            },
            {
                category: "10ë‹¨ì›: ì˜ˆì™¸ ìœ ì „",
                question: "ABOì‹ í˜ˆì•¡í˜•ì²˜ëŸ¼ ëŒ€ë¦½ìœ ì „ìê°€ 3ê°œ ì´ìƒì¸ ìœ ì „.",
                answers: ["ë³µëŒ€ë¦½ ìœ ì „", "ë³µëŒ€ë¦½"],
                options: ["ë³µëŒ€ë¦½ ìœ ì „", "ë‹¤ì¸ì ìœ ì „", "ì¤‘ê°„ ìœ ì „", "ë°˜ì„± ìœ ì „"],
                intro: "ë‚˜ì•¼, ë§ˆí‚¤ë§ˆì•¼, ì•„ë‹ˆë©´ íŒŒì›Œì•¼? ì—¬ìê°€ ë„ˆë¬´ ë§ì–ì•„.",
                correct: "ë³µëŒ€ë¦½ ìœ ì „. í•˜ì§€ë§Œ ì„ íƒì€ í•˜ë‚˜ì•¼. ë‚˜ë¥¼ ê³¨ë¼.",
                wrong: "í•‘ê³„ ëŒ€ì§€ ë§ˆ. ì„ íƒì€ ë‹¨ìˆœí•´."
            },
            {
                category: "10ë‹¨ì›: ì—°ê´€ ìœ ì „",
                question: "ë‘ ìœ ì „ìê°€ ê°™ì€ ì—¼ìƒ‰ì²´ì— ìˆì–´ ê°™ì´ ì´ë™í•˜ëŠ” í˜„ìƒ.",
                answers: ["ì—°ê´€", "linkage"],
                options: ["ì—°ê´€", "êµì°¨", "ë…ë¦½", "ë¶„ë¦¬"],
                intro: "ë‚´ê°€ ì§€ì˜¥ì— ê°€ë©´ ë„ˆë„ ë”°ë¼ì˜¬ ê±°ì§€?",
                correct: "ì—°ê´€. ë§ì•„. ë¬¶ì—¬ìˆìœ¼ë‹ˆê¹Œ. ë„Œ ë‚´ ì§ì´ì•¼.",
                wrong: "ë…ë¦½ì€ ë”°ë¡œ ë…¸ëŠ” ê±°ê³ . ìš°ë¦° í•˜ë‚˜ë¼ë‹ˆê¹Œ?"
            },
            {
                category: "12ë‹¨ì›: í•˜ë””-ë°”ì¸ë² ë¥´í¬",
                question: "ìœ ì „ì ë¹ˆë„ê°€ ë³€í•˜ì§€ ì•Šìœ¼ë ¤ë©´ êµë°°ê°€ 'ì´ê²ƒ'ì´ì–´ì•¼ í•´.",
                answers: ["ë¬´ì‘ìœ„", "ë¬´ì‘ìœ„ êµë°°", "random"],
                options: ["ë¬´ì‘ìœ„", "ì„ íƒì ", "ì¸ìœ„ì ", "ë™ê³„"],
                intro: "ìš°ë¦¬ê°€ ë§Œë‚œ ê±´ ìš´ëª… ë”°ìœ„ê°€ ì•„ë‹ˆì•¼. ê·¸ëƒ¥ ìš°ì—°ì´ì§€.",
                correct: "ë¬´ì‘ìœ„. ë§ì•„. ê³„ì‚°ëœ ì‚¬ë‘ì€ ì—­ê²¨ì›Œ. ë³¸ëŠ¥ì— ë§¡ê²¨.",
                wrong: "ì˜ë„ì ì¸ ê±´ ì¬ë¯¸ì—†ì–´."
            },
            {
                category: "12ë‹¨ì›: ì†Œì§„í™”",
                question: "ì†Œìˆ˜ê°€ ì´ì£¼í•˜ì—¬ ìƒˆ ì§‘ë‹¨ì„ ë§Œë“¤ ë•Œ ìœ ì „ì ë¹ˆë„ê°€ ê¸‰ë³€í•˜ëŠ” í˜„ìƒ.",
                answers: ["ì°½ì‹œì íš¨ê³¼", "founder effect"],
                options: ["ì°½ì‹œì íš¨ê³¼", "ë³‘ëª© íš¨ê³¼", "ìì—° ì„ íƒ", "ëŒì—°ë³€ì´"],
                intro: "ë„ë§ì¹˜ì. ì•„ë¬´ë„ ì—†ëŠ” ê³³ìœ¼ë¡œ ê°€ì„œ ìš°ë¦¬ ë‘˜ë§Œì˜ ë‚˜ë¼ë¥¼ ë§Œë“œëŠ” ê±°ì•¼.",
                correct: "ì°½ì‹œì íš¨ê³¼. ìš°ë¦¬ê°€ ê·¸ê³³ì˜ ì•„ë‹´ê³¼ ì´ë¸Œê°€ ë˜ëŠ” ê±°ì§€.",
                wrong: "ë³‘ëª© íš¨ê³¼ëŠ” ë‹¤ ì£½ê³  ë‚¨ì€ ê±°ì•¼."
            },
            {
                category: "12ë‹¨ì›: ìì—°ì„ íƒ",
                question: "í™˜ê²½ì— ì ì‘í•œ ë†ˆë§Œ ì‚´ì•„ë‚¨ì•„ ìì†ì„ ë‚¨ê¸´ë‹¤ëŠ” ì”í˜¹í•œ ë²•ì¹™.",
                answers: ["ìì—°ì„ íƒ", "natural selection"],
                options: ["ìì—°ì„ íƒ", "ìš©ë¶ˆìš©ì„¤", "ëŒì—°ë³€ì´ì„¤", "ê²©ë¦¬ì„¤"],
                intro: "ê°•í•œ ìê°€ ì‚´ì•„ë‚¨ëŠ” ê²Œ ì•„ë‹ˆì•¼. ì‚´ì•„ë‚¨ëŠ” ìê°€ ê°•í•œ ê±°ì§€.",
                correct: "ìì—°ì„ íƒ. ê²°êµ­ ë„Œ ë‚´ê°€ ì„ íƒí–ˆì–´. ì£½ì§€ ë§ˆ.",
                wrong: "ëˆ„ê°€ ì„ íƒí•œë‹¤ê³ ? ìì—°ì´."
            },
            {
                category: "13ë‹¨ì›: ë¹„êµí•´ë¶€í•™",
                question: "ìƒˆì˜ ë‚ ê°œì™€ ê³¤ì¶©ì˜ ë‚ ê°œ. ê¸°ì›ì€ ë‹¤ë¥´ì§€ë§Œ ê²‰ëª¨ìŠµë§Œ ë¹„ìŠ·í•œ ê°€ì§œë“¤.",
                answers: ["ìƒì‚¬ ê¸°ê´€", "ìƒì‚¬ê¸°ê´€"],
                options: ["ìƒì‚¬ ê¸°ê´€", "ìƒë™ ê¸°ê´€", "í”ì  ê¸°ê´€", "ìœ ì‚¬ ê¸°ê´€"],
                intro: "ë§ˆí‚¤ë§ˆ ì”¨ê°€ ì¢‹ì•„, ë‚´ê°€ ì¢‹ì•„? ì†”ì§íˆ ë§í•´.",
                correct: "ìƒì‚¬ ê¸°ê´€. ê²‰ëª¨ìŠµë§Œ ë‹®ì€ ê°€ì§œëŠ” í•„ìš” ì—†ì–´.",
                wrong: "ìƒë™ ê¸°ê´€? í•ì¤„ë¶€í„° ë‹¤ë¥´ë‹¤ê³ ."
            },
            {
                category: "13ë‹¨ì›: ë¹„êµí•´ë¶€í•™",
                question: "ì‚¬ëŒ íŒ”ê³¼ ê³ ë˜ ì•ì§€ëŠëŸ¬ë¯¸. ê²‰ëª¨ìŠµì€ ë‹¬ë¼ë„ ë¼ˆëŒ€(ê¸°ì›)ëŠ” ê°™ì€ ê¸°ê´€.",
                answers: ["ìƒë™ ê¸°ê´€", "ìƒë™ê¸°ê´€"],
                options: ["ìƒë™ ê¸°ê´€", "ìƒì‚¬ ê¸°ê´€", "í”ì  ê¸°ê´€", "ìœ ì‚¬ ê¸°ê´€"],
                intro: "ìš°ë¦° ê²‰ëª¨ìŠµì€ ë‹¬ë¼ë„... ì†ì€ ë˜‘ê°™ì´ ë§ê°€ì ¸ ìˆì–´.",
                correct: "ìƒë™ ê¸°ê´€. ë§ì•„. ìš°ë¦° í†µí•˜ëŠ” ê²Œ ìˆì–´.",
                wrong: "ìƒì‚¬ ê¸°ê´€ì´ë‘ ë°˜ëŒ€ì•¼. ì†ì„ ë´."
            },
            {
                category: "13ë‹¨ì›: ë°œìƒí•™",
                question: "ì²™ì¶”ë™ë¬¼ ì´ˆê¸° ë°°ì•„ ëª© ë¶€ë¶„ì— ìˆëŠ” ì£¼ë¦„. ìš°ë¦¬ê°€ ë¬¼ê³ ê¸°ì˜€ë‹¤ëŠ” ì¦ê±°.",
                answers: ["ì•„ê°€ë¯¸ í‹ˆ", "ì¸ë‘ë‚­"],
                options: ["ì•„ê°€ë¯¸ í‹ˆ", "ì²™ìƒ‰", "ê¼¬ë¦¬", "ì‹ ê²½ê´€"],
                intro: "ìˆ˜ì˜ ì˜í•´? ë¬¼ì†ì—ì„  ìˆ¨ì„ ì‰´ ìˆ˜ ì—†ì–ì•„. ë‚´ê°€ ìˆ¨ì„ ë¶ˆì–´ë„£ì–´ ì¤„ê¹Œ?",
                correct: "ì•„ê°€ë¯¸ í‹ˆ. ê¹Šì€ ë¬¼ ì†ìœ¼ë¡œ ê°€ë¼ì•‰ì.",
                wrong: "ëª©ì— ìˆëŠ” í‹ˆìƒˆë¼ë‹ˆê¹Œ."
            },
            {
                category: "14ë‹¨ì›: ì¢…ë¶„í™”",
                question: "ì§€ë¦¬ì  ì¥ë²½ì— ì˜í•´ ë©€ë¦¬ ë–¨ì–´ì ¸ì„œ ì¼ì–´ë‚˜ëŠ” ì¢…ë¶„í™”.",
                answers: ["ì´ì†Œì  ì¢…ë¶„í™”", "allopatric"],
                options: ["ì´ì†Œì  ì¢…ë¶„í™”", "ë™ì†Œì  ì¢…ë¶„í™”", "ì ì§„ì  ì¢…ë¶„í™”", "ë‹¨ì† í‰í˜•"],
                intro: "ë‚´ê°€ ëŸ¬ì‹œì•„ë¡œ ëŒì•„ê°€ë©´... ë„Œ ë‚  ìŠì„ ê±°ì§€?",
                correct: "ì´ì†Œì  ì¢…ë¶„í™”. í•˜ì§€ë§Œ ë„Œ ì˜ˆì™¸ì•¼. ëê¹Œì§€ ì«“ì•„ê°ˆ ê±°ë‹ˆê¹Œ.",
                wrong: "í‹€ë ¸ì–´. ë„Œ ë‚´ ê±°ë¼ëŠ” ê±¸ ìŠì§€ ë§ˆ."
            },
            {
                category: "14ë‹¨ì›: ìƒì‹ì  ì¥ë²½",
                question: "ìƒì‹ê¸° êµ¬ì¡°ê°€ ë§ì§€ ì•Šì•„ êµë°°í•  ìˆ˜ ì—†ëŠ” ê²©ë¦¬.",
                answers: ["ê¸°ê³„ì  ê²©ë¦¬", "mechanical"],
                options: ["ê¸°ê³„ì  ê²©ë¦¬", "í–‰ë™ì  ê²©ë¦¬", "ì‹œê°„ì  ê²©ë¦¬", "ë°°ìš°ì ê²©ë¦¬"],
                intro: "ì—´ì‡ ê°€ ìë¬¼ì‡ ì— ì•ˆ ë§ìœ¼ë©´ ì–´ë–»ê²Œ í•  ê±°ì•¼? ë¶€ìˆ´ë²„ë¦´ ê±°ì•¼?",
                correct: "ê¸°ê³„ì  ê²©ë¦¬. ëª¸ì˜ ëŒ€í™”ê°€ ì•ˆ í†µí•˜ë©´... ì£½ì„ ë•Œê¹Œì§€ ì‹¸ìš°ì.",
                wrong: "í–‰ë™ì  ê²©ë¦¬ëŠ” ì¶¤ì¶”ëŠ” ê±°ê³ . ë„Œ ì¶¤ë„ ëª» ì¶”ì–ì•„."
            }
        ];

        // 2. ì‚¬ë‹´(Small Talk) ë°ì´í„° (í•™ìŠµ X, ìˆ˜ë‹¤ O)
        const chatEpisodes = [
            {
                text: "ê·¸ë‚˜ì €ë‚˜ ë´ì§€ êµ°, ì‹œê³¨ ì¥ë‘ ë„ì‹œ ì¥ ì´ì•¼ê¸° ì•Œì•„? <br>ë„Œ ì–´ëŠ ìª½ì´ ì¢‹ì•„?",
                options: ["ì‹œê³¨ ì¥", "ë„ì‹œ ì¥", "ë„ˆë‘ í•¨ê»˜ë¼ë©´ ì–´ë””ë“ "],
                replies: {
                    "ì‹œê³¨ ì¥": "íìŒ... í‰ì˜¨í•œ ì‚¶ì„ ì›í•´?",
                    "ë„ì‹œ ì¥": "ë§›ìˆëŠ” ê±¸ ë¨¹ì§€ë§Œ ì–¸ì œ ì£½ì„ì§€ ëª¨ë¥´ëŠ” ì‚¶... ê·¸ë ‡êµ¬ë‚˜..",
                    "ë„ˆë‘ í•¨ê»˜ë¼ë©´ ì–´ë””ë“ ": "ì•„í•˜í•˜! ì •ë‹µì´ì•¼. ë´ì§€ êµ°ì€ ê°€ë” ê·€ì—¬ìš´ ì†Œë¦¬ë¥¼ í•œë‹¤ë‹ˆê¹Œ."
                }
            },
            {
                text: "ë§ˆí‚¤ë§ˆ ì”¨ ë§ì´ì•¼... ëƒ„ìƒˆê°€ ë‚˜. <br>ì•„ì£¼ ë‚˜ìœ 'ê°œ' ëƒ„ìƒˆê°€ ë‚œë‹¤ê³  ìƒê°í•˜ì§€ ì•Šì•„?",
                options: ["ë§ˆí‚¤ë§ˆ ì”¨ëŠ” ì¢‹ì•„", "ë‚œ ì½”ê°€ ë§‰í˜€ì„œ", "ë„¤ ëƒ„ìƒˆê°€ ë” ì¢‹ì•„"],
                replies: {
                    "ë§ˆí‚¤ë§ˆ ì”¨ëŠ” ì¢‹ì•„": "ì¹«. ì¬ë¯¸ì—†ì–´. ê·¸ ì—¬ìí•œí…Œ ë¨¹í˜€ë²„ë ¤ë¼.",
                    "ë‚œ ì½”ê°€ ë§‰í˜€ì„œ": "ë°”ë³´. ì–¸ì œì¯¤ ëˆˆì¹˜ì±Œë˜? ì¡°ì‹¬í•˜ëŠ” ê²Œ ì¢‹ì„ ê±°ì•¼.",
                    "ë„¤ ëƒ„ìƒˆê°€ ë” ì¢‹ì•„": "ì–´ë¼? ëŒ€ë‹´í•˜ë„¤. ë‚´ ëƒ„ìƒˆëŠ” í™”ì•½ ëƒ„ìƒˆì¼ í…ë°? í›„í›„."
                }
            },
            {
                text: "í•™êµ ì¶•ì œ ê°€ë³¸ ì  ìˆì–´? <br>ë‚œ í•™êµì— ë‹¤ë…€ë³¸ ì ì´ ì—†ì–´ì„œ... ì¢€ ê¶ê¸ˆí•´.",
                options: ["ë‚˜ë„ ì•ˆ ê°€ë´¤ì–´", "ë‹¤ìŒì— ê°™ì´ ê°€ì", "ë³„ê±° ì—†ì–´"],
                replies: {
                    "ë‚˜ë„ ì•ˆ ê°€ë´¤ì–´": "ìš°ë¦° ì°¸ ë‹®ì€ ì ì´ ë§ë„¤. ê·¸ë˜ì„œ ë„¤ê°€ ì¢‹ì•„.",
                    "ë‹¤ìŒì— ê°™ì´ ê°€ì": "ì•½ì†í–ˆë‹¤? ì‚¬ê³¼ ì‚¬íƒ•ë„ ì‚¬ì£¼ê³ , ë¶ˆê½ƒë†€ì´ë„ ë³´ì—¬ì¤˜ì•¼ í•´.",
                    "ë³„ê±° ì—†ì–´": "ë´ì§€ êµ°ì´ë‘ ê°€ë©´ ë‹¤ë¥¼ì§€ë„ ëª¨ë¥´ì–ì•„. ì‹œì‹œí•˜ê¸´."
                }
            },
            {
                text: "ì €ê¸°, ë´ì§€ êµ°. ì˜í™” ì¢‹ì•„í•´? <br>ë‚œ ë‹¤ ì£½ì–´ë²„ë¦¬ëŠ” ì˜í™”ê°€ ì¢‹ë”ë¼.",
                options: ["ë‚˜ë„ ì¢‹ì•„í•´", "ë‚œ í•´í”¼ì—”ë”©ì´ ì¢‹ì•„", "ì•¡ì…˜ ì˜í™”ê°€ ì¢‹ì•„"],
                replies: {
                    "ë‚˜ë„ ì¢‹ì•„í•´": "ì—­ì‹œ! íŒŒë©¸ì ì¸ ê²°ë§ì´ ì•„ë¦„ë‹µì§€. ìš°ë¦¬ì²˜ëŸ¼.",
                    "ë‚œ í•´í”¼ì—”ë”©ì´ ì¢‹ì•„": "í•´í”¼ì—”ë”©ì´ë¼... ê¿ˆê°™ì€ ì†Œë¦¬ë„¤. ë­, ë…¸ë ¥ì€ í•´ë³¼ê²Œ.",
                    "ì•¡ì…˜ ì˜í™”ê°€ ì¢‹ì•„": "ê·¸ëŸ¼ ë‚´ê°€ í­ë°œí•˜ëŠ” ê±° ë³´ì—¬ì¤„ê¹Œ? ìµœê³ ì˜ ì•¡ì…˜ì¼ê±¸?"
                }
            },
            {
                text: "ì¹´í˜ ì¼ ëë‚˜ê³  ê°™ì´ ë„ë§ì¹ ê¹Œ? <br>ì•„ë¬´ë„ ìš°ë¦´ ëª¨ë¥´ëŠ” ê³³ìœ¼ë¡œ.",
                options: ["ì–´ë””ë¡œ?", "ì¼ì€ ì–´ì©Œê³ ?", "ì¢‹ì•„"],
                replies: {
                    "ì–´ë””ë¡œ?": "ì–´ë””ë“ . ë°”ë‹¤ê°€ ë³´ì´ëŠ” ê³³ì´ë©´ ì¢‹ê² ì–´. ìˆ˜ì˜ë„ í•˜ê³ .",
                    "ì¼ì€ ì–´ì©Œê³ ?": "ë°”ë³´. ì¼ì´ ì¤‘ìš”í•´, ë‚´ê°€ ì¤‘ìš”í•´? ê·¸ëƒ¥ ë‹¤ í„°ëœ¨ë¦¬ê³  ê°€ì.",
                    "ì¢‹ì•„": "ì¤€ë¹„í•´ ë‘¬. ì˜¤ëŠ˜ ë°¤ì— ë°ë¦¬ëŸ¬ ê°ˆ í…Œë‹ˆê¹Œ."
                }
            }
        ];

        let queue = [];
        let currentQ = null;
        let wrongAttempts = 0;
        let totalWrong = 0;
        let isChatting = false; // í˜„ì¬ ì‚¬ë‹´ ì¤‘ì¸ì§€ ì²´í¬

        function startGame() {
            queue = JSON.parse(JSON.stringify(questionBank));
            queue.sort(() => Math.random() - 0.5);
            
            document.getElementById('start-screen').classList.add('hidden');
            setTimeout(() => {
                addMessage('reze', "ì¢‹ì•„. ê·¸ëŸ¼ ì‹œì‘í•˜ì. ë”´ì§“í•˜ë©´ ì£½ì–´?");
                setTimeout(() => nextStep(), 1000);
            }, 500);
        }

        function showTyping() {
            const typing = document.getElementById('typing');
            const chatBox = document.getElementById('chat-box');
            chatBox.appendChild(typing);
            typing.style.display = 'block';
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function hideTyping() {
            document.getElementById('typing').style.display = 'none';
        }

        function addMessage(type, text, isHTML = false) {
            const chatBox = document.getElementById('chat-box');
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${type}`;

            let innerContent = '';
            if (type === 'reze') {
                innerContent += `<img src="images-2.jpeg" class="profile-pic-chat">`;
            }
            
            innerContent += `<div class="bubble">${text}</div>`;
            
            msgDiv.innerHTML = innerContent;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // ë‹¤ìŒ ë‹¨ê³„ ê²°ì • (í€´ì¦ˆ or ìˆ˜ë‹¤)
        function nextStep() {
            if (queue.length === 0) {
                showEnding();
                return;
            }

            // 30% í™•ë¥ ë¡œ ìˆ˜ë‹¤ íƒ€ì„ (ì²« ë¬¸ì œëŠ” ì œì™¸, ì‚¬ë‹´ ì¤‘ë³µ ë°©ì§€)
            // queue.lengthê°€ ì¤„ì–´ë“¤ë©´ì„œ ì§„í–‰ë˜ë¯€ë¡œ, ì´ˆê¸°ì—” ì¢€ ëœ ë‚˜ì˜¤ê²Œ ì¡°ì ˆ ê°€ëŠ¥
            if (!isChatting && Math.random() < 0.35 && queue.length < questionBank.length) {
                triggerSmallTalk();
            } else {
                nextQuestion();
            }
        }

        // ì‚¬ë‹´ íŠ¸ë¦¬ê±°
        function triggerSmallTalk() {
            isChatting = true;
            const episode = chatEpisodes[Math.floor(Math.random() * chatEpisodes.length)];
            
            showTyping();
            setTimeout(() => {
                hideTyping();
                addMessage('reze', episode.text);
                
                // ì„ íƒì§€ ë²„íŠ¼ ìƒì„±
                setTimeout(() => {
                    const chatBox = document.getElementById('chat-box');
                    const wrapper = document.createElement('div');
                    wrapper.className = 'options-container';
                    
                    let buttonsHTML = "";
                    episode.options.forEach(opt => {
                        // í´ë¦­ ì‹œ handleChatReply í˜¸ì¶œ
                        buttonsHTML += `<button class="option-btn" onclick="handleChatReply(this, '${episode.replies[opt]}', '${opt}')">${opt}</button>`;
                    });
                    
                    wrapper.innerHTML = buttonsHTML;
                    chatBox.appendChild(wrapper);
                    chatBox.scrollTop = chatBox.scrollHeight;
                    enableInput(false);
                }, 500);
            }, 1000);
        }

        // ì‚¬ë‹´ ë‹µë³€ ì²˜ë¦¬
        window.handleChatReply = function(btn, replyText, userText) {
            // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½ ë° ë¹„í™œì„±í™”
            const container = btn.parentElement;
            const buttons = container.querySelectorAll('.option-btn');
            buttons.forEach(b => {
                b.disabled = true;
                b.style.opacity = '0.5';
            });
            btn.style.backgroundColor = 'var(--accent-color)';
            btn.style.color = 'black';
            btn.style.opacity = '1';

            addMessage('user', userText);
            
            showTyping();
            setTimeout(() => {
                hideTyping();
                addMessage('reze', replyText);
                
                // ë‹¤ì‹œ í€´ì¦ˆë¡œ ë³µê·€
                isChatting = false;
                setTimeout(() => nextQuestion(true), 1500); // trueëŠ” ì—°ê²° ëŒ€ì‚¬ ìŠ¤í‚µìš©
            }, 1000);
        };

        function nextQuestion(skipReaction = false) {
            if (queue.length === 0) {
                showEnding();
                return;
            }

            currentQ = queue.shift();
            wrongAttempts = 0;
            
            showTyping();
            setTimeout(() => {
                hideTyping();
                addMessage('reze', currentQ.intro);
                
                setTimeout(() => {
                    const questionHTML = `
                        <div class="question-card">
                            <span class="question-tag">QUESTION ${questionBank.length - queue.length}</span>
                            <div class="question-text">[${currentQ.category}]<br>${currentQ.question}</div>
                        </div>
                    `;
                    addMessage('reze', questionHTML, true);
                    enableInput(true);
                }, 800);
            }, 1000);
        }

        function checkAnswer(optionValue = null) {
            const inputEl = document.getElementById('answer-input');
            const val = optionValue || inputEl.value.trim();
            
            if (!val) return;

            addMessage('user', val);
            inputEl.value = "";
            enableInput(false);

            const cleanVal = val.toLowerCase().replace(/s/g, '');
            const isCorrect = currentQ.answers.some(ans => ans.toLowerCase().replace(/s/g, '') === cleanVal);

            showTyping();

            setTimeout(() => {
                hideTyping();
                if (isCorrect) {
                    addMessage('reze', currentQ.correct);
                    setTimeout(() => nextStep(), 1000); // nextStepìœ¼ë¡œ ê°€ì„œ í€´ì¦ˆorìˆ˜ë‹¤ ê²°ì •
                } else {
                    handleWrongAnswer();
                }
            }, 800);
        }

        function handleWrongAnswer() {
            wrongAttempts++;
            totalWrong++;
            
            addMessage('reze', currentQ.wrong);

            if (wrongAttempts >= 2) {
                setTimeout(() => {
                    showTyping();
                    setTimeout(() => {
                        hideTyping();
                        addMessage('reze', "í•˜ì•„... íŒíŠ¸ ì¤„ í…Œë‹ˆê¹Œ ê³¨ë¼.");
                        showOptions();
                    }, 800);
                }, 500);
            } else {
                enableInput(true);
            }
        }

        function showOptions() {
            const shuffledOptions = [...currentQ.options].sort(() => Math.random() - 0.5);
            let buttonsHTML = "";
            shuffledOptions.forEach(opt => {
                buttonsHTML += `<button class="option-btn" onclick="selectQuizOption('${opt}', this)">${opt}</button>`;
            });
            
            const chatBox = document.getElementById('chat-box');
            const wrapper = document.createElement('div');
            wrapper.className = 'options-container';
            wrapper.innerHTML = buttonsHTML;
            
            chatBox.appendChild(wrapper);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        window.selectQuizOption = function(val, btnElement) {
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(b => {
                b.disabled = true;
                b.style.opacity = '0.5';
            });
            btnElement.style.backgroundColor = 'var(--accent-color)';
            btnElement.style.color = 'black';
            btnElement.style.opacity = '1';
            
            checkAnswer(val);
        };

        function enableInput(enable) {
            const input = document.getElementById('answer-input');
            const btn = document.getElementById('send-btn');
            input.disabled = !enable;
            btn.disabled = !enable;
            if(enable) input.focus();
        }

        function showEnding() {
            let finalMsg = "";
            if (totalWrong === 0) {
                finalMsg = "ê±°ì§“ë§... ì™„ë²½í•´. <br>ì¢‹ì•„. ì˜¤ëŠ˜ ë°¤ì€ ë„¤ê°€ í•˜ê³  ì‹¶ì€ ëŒ€ë¡œ í•´. ğŸ”¥";
            } else if (totalWrong <= 10) {
                finalMsg = `ëë‚¬ë„¤. ${totalWrong}ë²ˆ ì‹¤ìˆ˜í–ˆì§€ë§Œ...<br>ê·€ì—¬ìš°ë‹ˆê¹Œ ë´ì¤„ê²Œ. ì¹´í˜ì—ì„œ ê¸°ë‹¤ë¦´ê²Œ.`;
            } else {
                finalMsg = "í‘! ğŸ’£<br>ì‹¤ë§ì´ì•¼. ë„ì‹œ ì¥ëŠ” ì—­ì‹œ ì•ˆ ë˜ë„¤. <br>ì˜ ê°€.";
            }
            
            showTyping();
            setTimeout(() => {
                hideTyping();
                addMessage('reze', finalMsg);
                document.getElementById('answer-input').placeholder = "ëŒ€í™”ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.";
            }, 1500);
        }
    </script>
</body>
</html>
